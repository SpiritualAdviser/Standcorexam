(()=>{var e={460:(e,t,s)=>{const a=s(5788),n=s(2316),i=s(2480),o=s(559),r=s(5468);e.exports=class{constructor(){this.scene=document.getElementById("scene"),this.gameModules=[],this.gameComponents=[],this.scene||(this.scene=document.createElement("div"),this.scene.id="scene",this.scene.className="scene",document.body.append(this.scene)),this._subscribe()}_runGame(){const e=new CoreXam.App.Scene;if(this.createComponents(e.components),new o,new r,this.gameComponents.length>0&&this.gameComponents.forEach((e=>{this.startLogic(e.Controller)})),this.gameModules.length>0&&this.gameModules.forEach((e=>{this.startLogic(e)})),new a,!CoreXam.App.Modules.AudioGame){const e=new Event("modules.audio.samples.loaded");dispatchEvent(e)}}createComponents(e,t){if(e.length>0){const s=Object.entries(CoreXam.App);e.forEach((e=>{const a=document.createElement("div");a.id=e.componentName,a.componentName=e.componentName,a.classList.add(e.className),s.forEach((e=>{switch(e[0]){case"Components":for(let s in e[1])if(s===a.id){const n=e[1][s];this.sortData(a,n,t)}break;case"Modules":for(let t in e[1])if(t===a.id){const s=e[1][t];this.gameModules.push(s)}}}))}))}else{const e=document.createElement("txt");e.innerHTML="game scene no components",e.style.fontSize="45px",document.body.appendChild(e)}}sortData(e,t,s){for(let a in t)switch(a){case"Template":this.createAssets(t[a],e),(s||this.scene).append(e);break;case"Controller":this.gameComponents.push(t)}}textyreChange(){}createAssets(e,t){let s=e;return"function"==typeof e&&(s=(new e).assets),s.forEach((e=>{let s=!1;if(e.componentName){const s=t;this.createComponents([e],s)}else{switch(e.tag){case"sprite":s=this.createSprite(e);break;case"div":s=this.createTemplateAssets(e),s.key&&(s.style.backgroundImage=`url(${this.getPath("img",s)}) `);break;case"img":s=this.createTemplateAssets(e),s.src=this.getPath("img",s);break;case"input":s=this.createTemplateAssets(e),"image"===e.type&&(s.src=this.getPath("img",s));break;case"button":s=new i(e).button;break;case"container":e.tag="div",s=this.createTemplateAssets(e),this.createAssets(e.contents,s);break;default:s=this.createTemplateAssets(e)}t.append(s)}})),t}startLogic(e,t){new e}createTemplateAssets(e){let t=!1;for(const s in e)if(e.hasOwnProperty(s))switch(s){case"tag":t=document.createElement(e[s]);break;case"contents":break;default:t[s]=e[s]}return t}createSprite(e){const t=document.createElement("canvas");t.className=e.className;const s=CoreXam.App.AssetsGroup.json.find((t=>t.key===e.key)),a=s.bodyJson.frames,i=Object.values(s.bodyJson.frames),o=s.bodyJson.meta.frameTags;t.key=e.key,e.name&&(t.name=e.name),e.id&&(t.id=e.id);let r=!1;for(const e in a)if(e){r=a[e].sourceSize;break}t.width=r.w,t.height=r.h;const l=new Image;l.src=this.getPath("img",t);let c=new n({context:t.getContext("2d"),image:l,width:r.w,height:r.h,allFrames:i,animationParams:o,animationName:e.animationName,animationRepeat:e.animationRepeat,ticksPerFrame:e.ticksPerFrame});return t.sprite=c,t}getPath(e,t){let s=!1;const a=CoreXam.App.AssetsGroup;return"img"===e&&(s=a.image.find((e=>e.key===t.key)).src),s}fullScreen(e){e.requestFullscreen?e.requestFullscreen():e.webkitrequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullscreen&&e.mozRequestFullScreen()}destroyElement(e,t){t?setTimeout((()=>{e.remove()}),t):e.remove(),console.log("element destroed")}test(){setTimeout((()=>{let e=new Event("Core.sceneWasCreated");dispatchEvent(e)}),500)}_subscribe(){addEventListener("modules.audio.samples.loaded",this.test)}}},2316:e=>{e.exports=class{constructor(e){this.animationEventEnd=new Event("SpriteLogic.animationEnd"),this.requestAnimationFrameloop=!1,this.context=e.context,this.image=e.image,this.width=e.width,this.height=e.height,this.allFrames=e.allFrames,this.animationParams=e.animationParams,this.animationRepeat=e.animationRepeat||!1,this.currentAnimation={},this.tickCount=0,this.ticksPerFrame=e.ticksPerFrame||6,this.animationName=e.animationName||!1,this.animationStop=!1}render(){let e=this.currentAnimation.mainFrame;this.context.clearRect(0,0,this.width,this.height),this.context.drawImage(this.image,e.x,e.y)}update(e){if(this.tickCount++,e)return this.getFrameOption(),void this.render();this.tickCount>this.ticksPerFrame&&(this.tickCount=0,this.getFrameOption(),this.render())}play(e,t){if(e&&(this.animationName=e,this.animationRepeat=t,this.animationStop=!1),this.animationName&&this.setAnimation(this.animationName))if(this.currentAnimation.to===this.currentAnimation.from){const e=!0;this.update(e)}else{let e=()=>{this.animationStop||(this.update(),window.requestAnimationFrame(e))};this.requestAnimationFrameloop=window.requestAnimationFrame(e)}else this.context.drawImage(this.image,0,0)}stop(){this.animationStop=!0,cancelAnimationFrame(this.requestAnimationFrameloop),this.requestAnimationFrameloop=!1}setAnimation(e){return this.currentAnimation=this.animationParams.find((t=>t.name===e)),this.currentAnimation?(this.currentAnimation.mainFrame={index:this.currentAnimation.from},!0):(console.log("не верное имя анимации"),!1)}getFrameOption(){let e=this.currentAnimation.mainFrame.index;this.currentAnimation.mainFrame.x=-this.allFrames[e].frame.x,this.currentAnimation.mainFrame.y=-this.allFrames[e].frame.y,this.currentAnimation.mainFrame.index++,e===this.currentAnimation.to&&(this.animationRepeat?this.currentAnimation.mainFrame.index=this.currentAnimation.from:(this.currentAnimation.mainFrame.index=this.currentAnimation.to,this.requestAnimationFrameloop&&this.stop(),this.animationEventEnd.ditail={animationName:this.currentAnimation,canvasContext:this.context},dispatchEvent(this.animationEventEnd)))}test(){}},console.log("=>BaseAnimationLogic is completed")},3580:e=>{e.exports={image:[],json:[],sounds:[]}},6e3:(e,t,s)=>{window.CoreXam={runGame(){(new(s(460)))._runGame()}},CoreXam.CoreLogics={SpriteLogic:s(2316),BaseCoreLogics:s(460)},CoreXam.App={Scene:s(7980),AssetsGroup:s(3580)},CoreXam.gameStage={palayGame:"run",curentLevel:1,curentScore:[],isWin:!1},s(1704)},1704:(e,t,s)=>{CoreXam.Modules={},s(5032),s(5944),s(6024),s(5144),s(7968)},7968:(e,t,s)=>{CoreXam.Modules.GameUI={PauseGame:s(559),Device:s(5468)}},5468:e=>{e.exports=class{constructor(){this.detectDevice()}detectDevice(){const e=window.navigator.userAgent.toLowerCase();e.match("android")||e.match("iphone")||e.match("macintosh")||e.match("ipad")?CoreXam.Device="Mobile":CoreXam.Device="Desktop"}}},559:e=>{e.exports=class{constructor(){this._subscribe(),this.eventStopGame=new Event("game.stop"),this.eventRuningGame=new Event("game.runing"),this.gameSheetStyle=document.styleSheets[0],this.rulesInserted=!1,this.indexRules=0}_gameStop(){CoreXam.gameStage.palayGame="stop",this.addCssRules("none",this.indexRules),this.stopAnimation(),dispatchEvent(this.eventStopGame)}_gameRuning(){CoreXam.gameStage.palayGame="run",this.startAnimation(),this.deleteCssRules(this.indexRules),dispatchEvent(this.eventRuningGame)}stopAnimation(){this.gameCanvases=document.querySelectorAll("canvas"),this.gameCanvases&&this.gameCanvases.forEach((e=>{e.sprite.stop()}))}startAnimation(){this.gameCanvases&&this.gameCanvases.forEach((e=>{e.sprite.play()}))}addCssRules(e,t){if(!this.rulesInserted){let s=`* {animation-play-state: paused; pointer-events: ${e};}`;this.gameSheetStyle.insertRule(s,t),this.rulesInserted=!0}}deleteCssRules(e){this.rulesInserted&&(this.gameSheetStyle.deleteRule(e),this.rulesInserted=!1)}_subscribe(){addEventListener("pauseGame.geme.run",this._gameRuning.bind(this)),addEventListener("pauseGame.geme.stop",this._gameStop.bind(this))}}},5032:(e,t,s)=>{CoreXam.Modules.Interaction={CollisionBetween:s(9360)}},9360:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.requestAnimationFrameloop=!1,this.bulets={mainObjects:[],skelets:[]},this.targets={mainObjects:[],skelets:[]},this.destroyElements=[],this.tickCount=0,this.ticksPerFrame=2,this.eventIsCollisions=new Event("CollisionBetween.IsCollisions"),this.eventObjectIsOutside=new Event("CollisionBetween.ObjectIsOutside"),this.eventObjectOnDestroy=new Event("CollisionBetween.ObjectOnDestroy"),this.colisionState=!0,this.bordeAreaColision={top:0,bottom:0,left:0,right:0}}run(){this.scene=document.getElementById("scene");let e=()=>{this.colisionState&&("run"===CoreXam.gameStage.palayGame&&this.runCollision(),window.requestAnimationFrame(e))};this.requestAnimationFrameloop=window.requestAnimationFrame(e)}addObjectToCollision(e,t){"target"===t?this.getSkeletObject(e,"target"):this.getSkeletObject(e,!1)}getSkeletObject(e,t){let s=!1;e.skeletId?(s=e.querySelectorAll(`#${e.skeletId}`),s.forEach((e=>{"target"===t?this.targets.skelets.push(e):this.bulets.skelets.push(e)}))):"target"===t?this.targets.skelets.push(e):this.bulets.skelets.push(e),"target"===t?this.targets.mainObjects.push(e):this.bulets.mainObjects.push(e)}collisionSwich(e){this.colisionState=e,e?this.run():(this.bulets={mainObjects:[],skelets:[]},this.targets={mainObjects:[],skelets:[]})}runCollision(){this.tickCount++,this.tickCount>this.ticksPerFrame&&(this.tickCount=0,this.targets.skelets.length>0?this.targets.skelets.forEach((e=>{this.bulets.skelets.forEach((t=>{this.checkCollision(e,t)}))})):this.bulets.skelets.length>0&&this.bulets.skelets.forEach((e=>{this.checkCollision(!1,e)})))}checkCollision(e,t){let s=!1;const a=this.getCoords(t);if(a.top>this.bordeAreaColision.top&&a.bottom<this.scene.clientHeight-this.bordeAreaColision.bottom&&a.left>this.bordeAreaColision.left&&a.right<this.scene.clientWidth-this.bordeAreaColision.right||(t.option=a,this.fireEventOnColision(this.eventObjectIsOutside,{element:t})),e){const n=this.getCoords(e);if(n.top>this.bordeAreaColision.top&&n.bottom<this.scene.clientHeight-this.bordeAreaColision.bottom&&n.left>this.bordeAreaColision.left&&n.right<this.scene.clientWidth-this.bordeAreaColision.right){let i=!1,o=!1;i=a.left+a.width>n.left&&a.left<n.right,o=a.top+a.height>n.top&&a.top<n.bottom,s=i&&o,s&&(e.option=n,t.option=a,this.fireEventOnColision(this.eventIsCollisions,{target:e,bulet:t}))}else e.option=n,this.fireEventOnColision(this.eventObjectIsOutside,{element:e})}}getCoords(e){let t=e.getBoundingClientRect();return e.skeletOfset&&(t=this.setSizeSkeletForm(t,e.skeletOfset)),t}removeCollision(e,t,s=!1){const a=e.id;this.bulets.skelets=this.filterCollisionObjects(this.bulets.skelets,a,t),this.bulets.mainObjects=this.filterCollisionObjects(this.bulets.mainObjects,a,t,!0),this.targets.skelets=this.filterCollisionObjects(this.targets.skelets,a),this.targets.mainObjects=this.filterCollisionObjects(this.targets.mainObjects,a,t,!0),t&&this.destroyElements.length>0&&(this.destroyElements.forEach((e=>{this.destroyElement(e,s)})),this.destroyElements=[])}fireEventOnColision(e,t){e.detail=t,dispatchEvent(e)}filterCollisionObjects(e,t,s,a){let n=[];return e.forEach((e=>{e.id===t||e.skeletId===t?s&&(this.destroyElements.push(e),a&&this.fireEventOnColision(this.eventObjectOnDestroy,{element:e})):n.push(e)})),n}setColisionOption(e){this.bordeAreaColision=e}}e.exports=t},6024:(e,t,s)=>{CoreXam.Modules.Objects={Buttons:s(2480)}},2480:e=>{e.exports=class{constructor(e){this.button=!1,this.asset=e,this.createButton(),this.setBackground()}createButton(){for(const e in this.asset)if(this.asset.hasOwnProperty(e))switch(e){case"tag":this.button=document.createElement(this.asset[e]);break;case"className":this.button.classList.add(this.asset.className);break;default:this.button[e]=this.asset[e]}}setBackground(){if(this.button.key){const e=CoreXam.App.AssetsGroup.image,t=e.find((e=>e.key===this.button.key)).src;if(this.button.path=t,this.button.style.backgroundImage=`url(${t})`,this.button.hover){const t=e.find((e=>e.key===this.button.hover)).src;this.button.pathMouseOver=t,this.button.onmouseover=this.onmouseOver,this.button.onmouseout=this.onmouseOut}}}onmouseOver(){this.style.backgroundImage=`url(${this.pathMouseOver})`}onmouseOut(){this.style.backgroundImage=`url(${this.path})`}_subscribe(){}}},5944:(e,t,s)=>{CoreXam.Modules.Sound={AudioSound:s(4148)}},4148:e=>{e.exports=class{constructor(e){this.trask=!1,this.gameSamples=[],this.plaingSamples=[],this.soundMute=!1,this.scene=document.getElementById("scene"),CoreXam.App.AssetsGroup.sounds&&CoreXam.App.AssetsGroup.sounds.forEach((e=>{this.gameSamples.push(e)})),this._subscribe()}async getAudioFile(e){const t=await fetch(e),s=await t.arrayBuffer();return await this.audioContext.decodeAudioData(s)}async setupSamples(){console.log("setting up samples");const e={};for(const t of this.gameSamples){const s=await this.getAudioFile(t.src);e[t.key]=t,e[t.key].audioBuffer=s,console.log("setting up done")}return e}getSampleSource(e,t,s){const a=this.audioContext.createBufferSource(),n=this.audioContext.createGain();return a.buffer=e.audioBuffer,a.options=e,a.options.currenGain=n,a.connect(n),n.connect(this.mainGainNode),e.vol&&(n.gain.value=e.vol),e.playbackRate&&(a.playbackRate.value=e.playbackRate),e.zoom,e.loop&&(a.loop=e.loop),a}_createAudioBox(){this._createAudioDiv(),this._createPlayController(),this._createVolumeControl(),this._createStereoControl(),this._currentSubscribe();const e=new Event("modules.audio.audioBox.ready");dispatchEvent(e)}_createAudioContext(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.mainGainNode=this.audioContext.createGain(),this.stereoBalance=new StereoPannerNode(this.audioContext,{pan:0}),this.stereoBalance.connect(this.audioContext.destination),this.mainGainNode.connect(this.stereoBalance),this.setupSamples().then((e=>{this.bufferedSamples=e,console.log(this.bufferedSamples);const t=new Event("modules.audio.samples.loaded");dispatchEvent(t)}))}_createAudioDiv(){this.audioDiv=document.createElement("div"),this.audioDiv.id="audioDiv",this.audioDiv.style.display="flex",this.audioDiv.style.flexDirection="column",this.audioDiv.style.position="absolute",this.audioDiv.style.bottom="1%",this.audioDiv.style.right="1.4%",this.scene.append(this.audioDiv)}_createPlayController(){this.playButton=document.createElement("button"),this.playButton.id="audioPlayButton",this.playButton.setAttribute("data-playing",!1),this.playButton.setAttribute("role","switch"),this.playButton.setAttribute("aria-checked",!1),this.playButton.style.pointerEvents="all";const e=document.createElement("span");e.style.backgroundColor="black",e.id="audioPlayText",e.style.color="#ffe2df",e.textContent="Play/Pause",this.playButton.append(e),this.audioDiv.appendChild(this.playButton)}_createVolumeControl(){this.volumeControl=document.createElement("input"),this.volumeControl.setAttribute("type","range"),this.volumeControl.setAttribute("min","0"),this.volumeControl.setAttribute("max","2"),this.volumeControl.setAttribute("value","1"),this.volumeControl.setAttribute("step","0.01"),this.volumeControl.id="audioVolumeControl",this.volumeControl.style.pointerEvents="all",this.audioDiv.appendChild(this.volumeControl)}_createStereoControl(){this.stereoControl=document.createElement("input"),this.stereoControl.setAttribute("type","range"),this.stereoControl.setAttribute("min","-1"),this.stereoControl.setAttribute("max","1"),this.stereoControl.setAttribute("value","0"),this.stereoControl.setAttribute("step","0.01"),this.stereoControl.id="audioStereoControl",this.stereoControl.style.pointerEvents="all",this.audioDiv.appendChild(this.stereoControl)}_changeToggleSoundState(e){"suspended"===this.audioContext.state||this.soundMute?"pause"===e||"play"===e?this.audioContext.resume():(this.volumeControl.value=1,this.soundMute=!1,this._changeVolume()):"pause"===e||"play"===e?this.audioContext.suspend():(this.soundMute=!0,this.volumeControl.value=0,this._changeVolume())}_changeVolume(){this.mainGainNode.gain.value=this.volumeControl.value;const e=new Event("modules.audio.volumeControl.value");e.detail=this.mainGainNode.gain.value,dispatchEvent(e)}_changeStereoBalance(){this.stereoBalance.pan.value=this.stereoControl.value}play(e,t){if(!this.volumeControl)return;this.soundMute&&(this.volumeControl.value=0,this._changeVolume());const s=this.bufferedSamples[e];let a;if(0===Object.keys(this.plaingSamples).length)a=this.getSampleSource(s),this.plaingSamples[e]=[],this.plaingSamples[e].push(a),a.start(t);else for(let n in this.plaingSamples)return n===e?void(0===this.plaingSamples[e].length?(a=this.getSampleSource(s),this.plaingSamples[e].push(a),a.start(t)):this.plaingSamples[e].forEach((n=>n.loop?void 0:(a=this.getSampleSource(s),this.plaingSamples[e].push(a),void a.start(t))))):(a=this.getSampleSource(s),this.plaingSamples[e]=[],this.plaingSamples[e].push(a),void a.start(t))}_currentSubscribe(){this.playButton.addEventListener("click",this._changeToggleSoundState.bind(this)),this.volumeControl.addEventListener("input",this._changeVolume.bind(this),!1),this.stereoControl.addEventListener("input",this._changeStereoBalance.bind(this),!1)}stop(e){this.plaingSamples[e].forEach((e=>{e.stop()})),this.plaingSamples[e].length=0}_subscribe(){addEventListener("module.audio.init",(e=>{!1===e.detail&&(this.soundMute=!0),this.trask||(this.trask=!0),this._createAudioContext()})),addEventListener("pauseGame.geme.stop",this._changeToggleSoundState.bind(this,"pause")),addEventListener("pauseGame.geme.run",this._changeToggleSoundState.bind(this,"play")),addEventListener("loadGame.gameResourcesReady",(()=>{this._createAudioBox()}))}}},5144:(e,t,s)=>{CoreXam.Modules.StatesManager={ConfigStates:s(380),Controller:s(5788),BaseActione:s(8208)}},8208:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(e,t){super(),this.name=e,this.actionOption=t,this._terminating=!1,this.finished=!1,this._onFinishCallback=!1,this._onFinish=this._onFinish.bind(this)}guard(){return!0}run(e,t){this.name=e,this.actionOption=t,this.actionEventRun=new CustomEvent("StatesManager.action.Run",{detail:`${this.name}.${this.actionOption}`}),this.actionEventFinish=new CustomEvent("StatesManager.action.Finish",{detail:`${this.name}.${this.actionOption}`}),console.log(`%c action run ---\x3e ${this.name}.${this.actionOption}`,"color: blue"),dispatchEvent(this.actionEventRun)}_onFinish(){this._terminating=!1,this.finished=!0,dispatchEvent(this.actionEventFinish),console.log(`%c action finish <--- ${this.name}.${this.actionOption}`,"color: blue")}}e.exports=t},380:e=>{e.exports=class{constructor(){this.contents={IDLE:{action:"showGameMenu"},GAME_LEVEL_START:{all:[{action:"showLevelComponent"},{action:"movePlaneOnStart"},{action:"startLevels"}]},GAME_LEVEL_FINISHING:{action:"levelFinish"}}}get(){return this.contents}}},5788:e=>{e.exports=class{constructor(){this.action=!1,this._nameOfState="INIT",this._currentState=!1,this.createdGameActions=[],CoreXam.App.Modules.ConfigStates&&(this.configStates=new CoreXam.App.Modules.ConfigStates),CoreXam.App.Modules.Actions&&(this.gameActions=CoreXam.App.Modules.Actions),this._subscribe(),this._getCurrentState(),this.startState()}_getCurrentState(){this._currentState=this.configStates.contents[this._nameOfState],this.actionEventNextStage=new CustomEvent("StatesManager.action.NextStage",{detail:this._nameOfState}),this.statesManagerEventRun=new CustomEvent("StatesManager.states.Run",{detail:this._nameOfState}),this.statesManagerEventFinish=new CustomEvent("StatesManager.states.Finish",{detail:this._nameOfState})}startState(){console.log("%c State "+this._nameOfState,"background: #bada55; color: #000"),dispatchEvent(this.statesManagerEventRun),CoreXam.gameStage.currentStage=this._nameOfState,this._currentState&&(this._currentState.action&&this._runAction(this._currentState.action),this._currentState.all&&this._currentState.all.forEach((e=>{this._runAction(e.action)})),console.log("%c State finish "+this._nameOfState,"background: #bada55; color: #000"),dispatchEvent(this.statesManagerEventFinish))}_runAction(e){const t=e.split("."),s=t[0],a=t[1];let n=!1;for(let e in this.gameActions)s===e&&(n=this.createdGameActions.find((e=>e.name===s)),n||(n=new this.gameActions[e](s,a),this.createdGameActions.push(n)),n.run(s,a),n._onFinish())}pause(){}resume(){}_nextState(e){this._nameOfState=e,this._getCurrentState(),this.startState()}_subscribe(){addEventListener("StatesManager.action.NextStage",(e=>{this._nextState(e.detail)}))}}},7980:e=>{e.exports=class{constructor(){this.components=[]}}},3712:(e,t,s)=>{CoreXam.App.Components={},s(6515),s(3908),s(3200),s(6412),s(2016),s(4892),s(9572),s(5712),s(5428),s(4560),s(1911)},4560:(e,t,s)=>{CoreXam.App.Components.BonusItem={Controller:s(3456)}},3456:(e,t,s)=>{const a=s(5700);class n extends CoreXam.CoreLogics.BaseCoreLogics{constructor(...e){super(...e),this.eventBonusRun=new Event("bonus.run"),this.templateModel=new a,this.counterBonusFireRate=0,this.bonusShield=1,this.bonusFireRate=0}filterOnRunBonus(e){const t=e.key;let s={name:t};switch(t){case"pickupRateFireUp":s.bonusRateOfFire=400,s.timeOfBonus=1500,this.eventBonusRun.detail=s;break;case"pickupShild":s.timeOfBonus=2500,this.eventBonusRun.detail=s}dispatchEvent(this.eventBonusRun)}filterOnCreateBonus(e){const t=e.offsetParent;delete t.collor,delete t.skeletId,t.replaceChildren();const s=Object.assign({},this.getRandomBonus()),a=t.id.split("_")[1];t.id=s.id+a,s.bonus=!0,s.id=t.id,s&&(this.createAssets([s],t),this.addOresOnCollision(t.childNodes[0],"target"))}getRandomBonus(){const e=this.templateModel.assets.length;let t=this.bonusFireRate;return this.counterBonusFireRate>4&&(t=Math.floor(Math.random()*e),this.counterBonusFireRate=0),this.counterBonusFireRate++,this.templateModel.assets[t]}addOresOnCollision(e,t){const s=new CustomEvent("CollisionBetween.addObject",{detail:{newObject:e,typeOfObject:t}});dispatchEvent(s)}_subscribe(){addEventListener("colisionOnScene.needCreateBonus",(e=>{this.filterOnCreateBonus(e.detail)})),addEventListener("colisionOnScene.planeCathBonus",(e=>{this.filterOnRunBonus(e.detail)}))}}e.exports=n},5700:e=>{e.exports=class{constructor(){this.assets=[{tag:"img",key:"pickupRateFireUp",id:"pickupRateFireUp",className:"bonusItem"},{tag:"img",key:"pickupShild",id:"pickupShild",className:"bonusItem"}]}}},2016:(e,t,s)=>{CoreXam.App.Components.Bulets={Template:s(864),Controller:s(696)}},696:(e,t,s)=>{const a=new s(7060);class n extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.planeContainer=!1,this.typeOfBulets="blueEnergyLaser",this.cloneCounter=0,this.buletsOfset=4,this.name="Bulets",this.canFire=!1}start(){this.getElements(),this.canFire=!0}stop(){this.canFire=!1,this.cloneCounter=0,this.buletsContainer&&this.buletsContainer.replaceChildren()}getElements(){this.buletsContainer=document.getElementById("buletsContainer"),this.buletModels=new a,this.canvasPlane=document.getElementById("canvasPlane")}fire(){if(this.canFire&&"run"===CoreXam.gameStage.palayGame){const e=this.cloneBuletOnFire();this.addElemenOnScene(e),e&&this.setStartPosition(e)}}fireEvent(){const e=new CustomEvent("Bulets.sound.playfireGo",{detail:this.typeOfBulets});dispatchEvent(e)}setStartPosition(e){let t=!1;this.buletsContainer.childNodes.forEach((s=>{s.id===e.id&&(t=s)})),this.addObjectOnCollision(t,"bulet");const s=this.canvasPlane.getBoundingClientRect(),a=t.getBoundingClientRect(),n=(s.left+s.width/2-a.width/2)/this.scene.clientWidth*100,i=s.top/this.scene.clientHeight*100;t.style.left=`${n}vw`,t.style.top=`${i}vh`,t.classList.add("buletsFire"),this.fireEvent()}cloneBuletOnFire(){const e=this.buletModels.assets[0];return e.id=this.typeOfBulets+this.cloneCounter,this.cloneCounter++,e}addElemenOnScene(e){this.createAssets([e],this.buletsContainer)}addObjectOnCollision(e,t){const s=new CustomEvent("CollisionBetween.addObject",{detail:{newObject:e,typeOfObject:t}});dispatchEvent(s)}_subscribe(){addEventListener("Component.Run",(e=>{e.detail===this.name&&this.start(e)})),addEventListener("Component.Stop",(e=>{e.detail===this.name&&this.stop(e)})),addEventListener("plane.rateOfFire",(()=>{this.fire()}))}}e.exports=n},864:e=>{e.exports=class{constructor(){this.assets=[{tag:"container",id:"buletsContainer",contents:[]}]}}},7060:e=>{e.exports=class{constructor(){this.assets=[{tag:"img",key:"blueEnergyLaser",className:"blueEnergyLaser"}]}}},4892:(e,t,s)=>{CoreXam.App.Components.GameUi={Template:s(2544),Controller:s(8172)}},8172:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.name="GameUi",this.wasCheckGameResult=!1,this.canStart=!0,this.textLevelNumber=document.getElementById("levelNumber"),this.textTimer=document.getElementById("levelTime"),this.currentLevelTime=!1,this.levelTimeInterval=!1,this.optionsOnLevelGame=document.getElementsByName("optionsOnLevelGame")[0],this.levelBarContainer=document.getElementById("levelBarContainer"),this.levelConfig=CoreXam.App.LevelConfig,this.allScoresArray=Array.from(document.getElementById("scoreBlockContainer").children),this.eventNeedCreateOres=new Event("gameUi.timeToCreateOre"),this.eventlevelReady=new Event("gameUi.levelReady"),this.targetCollorOresOnLevel=[],this.currentLevel=1,this.currentPosition=0,this.defaultCreateOresTimeInterval=2,this.textId="levelScoreText",this.positionArray=["scorePosition1","scorePosition2","scorePosition3","scorePosition4","scorePosition5","scorePosition6","scorePosition7"],this.swichObjects([this.optionsOnLevelGame,this.levelBarContainer],"none")}start(){this.wasCheckGameResult=!1,this.swichObjects(this.allScoresArray,"none"),this.swichObjects([this.optionsOnLevelGame,this.levelBarContainer],"block"),this.setLevelTarget(),this.countNumberCreateOres()}countNumberCreateOres(){this.createOresTimeInterval=this.defaultCreateOresTimeInterval;const e=this.levelConfig.gameLevels[this.currentLevel-1],t=e.collorOresOnLevel.find((e=>"random"===e.split(".")[0])),s=Number(t.split(".")[1]),a=Number((s/this.currentLevelTime).toFixed(1));let n=Math.ceil(a*this.createOresTimeInterval);const i=this.currentLevelTime/s;i*n>s&&(n=s,this.createOresTimeInterval=this.currentLevelTime),this.eventNeedCreateOres.numberOresToCreate=n,this.eventNeedCreateOres.timeIntervalToMove=1e3*i,this.eventlevelReady.detail={numberOresToCreate:n,timeIntervalToMove:1e3*i,currentLevelCfg:e},dispatchEvent(this.eventlevelReady)}swichObjects(e,t){e.forEach((e=>{e.style.display=t}))}setLevelTarget(){const e=this.levelConfig.gameLevels.find((e=>e.level===this.currentLevel));let t=0;CoreXam.gameStage.player.shop.additionalTime&&(t=CoreXam.gameStage.player.shop.additionalTime),this.currentLevelTime=e.timeLevel+t,this.textLevelNumber.textContent=`Lvl ${this.currentLevel}`,this.textTimer.textContent=`${this.currentLevelTime}`,e.targets.forEach((e=>{const t=e.split(".")[0],s=e.split(".")[1],a=this.getOresIdByCollor(t);this.allScoresArray.forEach((e=>{e.id===a&&(this.swichObjects([e],""),this.addClass(e),this.targetCollorOresOnLevel.push(t),e.childNodes.forEach((e=>{e.id===this.textId&&(e.textContent=s)})))}))})),CoreXam.gameStage.curentLevel=this.currentLevel,CoreXam.gameStage.curentScore.levelTarget=e.targets,CoreXam.gameStage.curentScore.destroedOresOnLevel={blue:0,black:0,green:0,purple:0,red:0,yellow:0,orange:0}}getOresIdByCollor(e){let t=!1;switch(e){case"blue":t="scoreBlueContainer";break;case"black":t="scoreBlackContainer";break;case"green":t="scoreGreenContainer";break;case"purple":t="scorePurpleContainer";break;case"red":t="scoreRedContainer";break;case"yellow":t="scoreYellowContainer";break;case"orange":t="scoreOrangeContainer"}return t}addClass(e){e.classList.add(this.positionArray[this.currentPosition]),++this.currentPosition}stop(e){this.targetCollorOresOnLevel.length=0,clearInterval(this.levelTimeInterval),this.currentPosition=0,this.allScoresArray.forEach((e=>{e.className="scoreContainer"})),this.swichObjects([this.optionsOnLevelGame,this.levelBarContainer],"none")}startLevel(){this.canStart&&this.startLevelTime()}startLevelTime(){this.levelTimeInterval=setInterval((()=>{this.textTimer.textContent=`${this.currentLevelTime}`,"run"===CoreXam.gameStage.palayGame&&(this.currentLevelTime>=0?(this.needCreateOres()&&this.currentLevelTime>0&&dispatchEvent(this.eventNeedCreateOres),--this.currentLevelTime):(this.stop(),this.checkGameResult("timeIsGone","timeou")))}),1e3)}needCreateOres(){return this.currentLevelTime/this.createOresTimeInterval%1==0}checkGameResult(e,t){const s=new CustomEvent("check.GameResult",{detail:e});dispatchEvent(s)}changeLevelScore(e){const t=e.detail;t.collor&&(CoreXam.gameStage.curentScore.destroedOresOnLevel[t.collor]+=1,this.targetCollorOresOnLevel.includes(t.collor)&&this.changeOresCounter(t.collor))}changeOresCounter(e){const t=this.getOresIdByCollor(e);this.allScoresArray.forEach((s=>{s.id===t&&s.childNodes.forEach((t=>{if(t.id===this.textId&&Number(t.textContent)>0&&(t.textContent-=1,Number(t.textContent)<=0)){this.swichObjects([s],"none");const t=this.targetCollorOresOnLevel.indexOf(e);this.targetCollorOresOnLevel.splice(t,1),this.targetCollorOresOnLevel.length<=0&&this.checkGameResult("allOresDestroyed","ores")}}))}))}_subscribe(){document.addEventListener("click",(e=>{"closeGame"===e.target.name&&(this.checkGameResult("timeIsGone","button"),this.stop()),"optionsOnLevelGame"===e.target.name&&("run"===CoreXam.gameStage.palayGame?dispatchEvent(new CustomEvent("pauseGame.geme.stop")):dispatchEvent(new CustomEvent("pauseGame.geme.run"))),"shopMenyButton"!==e.target.name&&"shopMapButton"!==e.target.name||dispatchEvent(new CustomEvent("gameUI.openShop")),"closeShopMap"===e.target.name&&dispatchEvent(new CustomEvent("gameUI.closeShop"))})),addEventListener("StatesManager.action.SratLevel",(e=>{this.currentLevel=Number(e.detail)})),addEventListener("colisionOnScene.oreCrash",(e=>{this.changeLevelScore(e)})),addEventListener("colisionOnScene.needCreateBonus",(e=>{this.changeLevelScore(e)})),addEventListener("Component.Run",(e=>{e.detail===this.name&&(this.canStart=!0,this.start(e))})),addEventListener("Component.Stop",(e=>{e.detail===this.name&&(this.canStart=!1,this.stop(e))})),addEventListener("StatesManager.action.Finish",(e=>{"SwichPopup.OnFinishWin"!==e.detail&&"SwichPopup.OnFinishLose"!==e.detail||clearInterval(this.levelTimeInterval)})),addEventListener("level.Game.wasStarted",(e=>{this.startLevel()}))}}e.exports=t},2544:e=>{e.exports=class{constructor(){this.assets=[{tag:"container",id:"levelBarContainer",className:"levelBarContainer",contents:[{tag:"div",className:"levelBarBg"},{tag:"container",id:"scoreBlockContainer",className:"scoreBlockContainer",contents:[{tag:"container",id:"scoreBlueContainer",className:"scoreContainer",contents:[{tag:"img",key:"blue",className:"scoreOres"},{tag:"text",id:"levelScoreText",textContent:"5",className:"scoreTextOres"}]},{tag:"container",id:"scoreYellowContainer",className:"scoreContainer",contents:[{tag:"img",key:"yellow",className:"scoreOres"},{tag:"text",id:"levelScoreText",textContent:"5",className:"scoreTextOres"}]},{tag:"container",id:"scoreBlackContainer",className:"scoreContainer",contents:[{tag:"img",key:"black",className:"scoreOres"},{tag:"text",id:"levelScoreText",textContent:"5",className:"scoreTextOres"}]},{tag:"container",id:"scoreGreenContainer",className:"scoreContainer",contents:[{tag:"img",key:"green",className:"scoreOres"},{tag:"text",id:"levelScoreText",textContent:"5",className:"scoreTextOres"}]},{tag:"container",id:"scoreOrangeContainer",className:"scoreContainer",contents:[{tag:"img",key:"orange",className:"scoreOres"},{tag:"text",id:"levelScoreText",textContent:"5",className:"scoreTextOres"}]},{tag:"container",id:"scorePurpleContainer",className:"scoreContainer",contents:[{tag:"img",key:"purple",className:"scoreOres"},{tag:"text",id:"levelScoreText",textContent:"5",className:"scoreTextOres"}]},{tag:"container",id:"scoreRedContainer",className:"scoreContainer",contents:[{tag:"img",key:"red",className:"scoreOres"},{tag:"text",id:"levelScoreText",textContent:"5",className:"scoreTextOres"}]}]},{tag:"text",id:"levelNumber",textContent:"Lvl 1",className:"levelNumber"},{tag:"img",key:"levelTime",className:"levelTimeBg"},{tag:"text",id:"levelTime",textContent:"Time 60s",className:"levelTime"}]},{tag:"button",key:"optionsButton",name:"optionsOnLevelGame",className:"closeGame"}]}}},5712:(e,t,s)=>{CoreXam.App.Components.Map={Template:s(2344),Controller:s(8419)}},8419:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.leveLMaxNumber=130,this.oresOnMapContainer=document.getElementById("oresOnMapContainer"),this.levelConfig=CoreXam.App.LevelConfig,this.delayOpenLevel=150,this.buttonModel={tag:"button",key:"ore1",name:"level_1",textContent:"1",className:"levelOre"},this.maxNumberImagesButtons=5,this.sceneSize=this.scene.getBoundingClientRect(),this.createLevelsOnMap()}start(){}createLevelsOnMap(){for(let e=1;e<=this.leveLMaxNumber;++e){let t=Math.ceil(Math.random()*this.maxNumberImagesButtons);this.buttonModel.key=`ore${t}`,this.buttonModel.name=`level_${e}`,this.buttonModel.disabled=!0,this.buttonModel.textContent=String(e),this.createAssets([this.buttonModel],this.oresOnMapContainer)}}openActiveLevelOnMap(){let e=this.delayOpenLevel;this.levelConfig.gameLevels.forEach(((t,s)=>{t.active&&(this.setActiveLevl(s+1,e),e+=this.delayOpenLevel)}))}setActiveLevl(e,t){this.oresOnMapContainer.childNodes.forEach((s=>{s.textContent===String(e)&&(s.classList.contains("levelOreActive")||setTimeout((()=>{s.classList.add("levelOreActive"),s.disabled=!1,dispatchEvent(new Event("map.level.open"))}),t))}))}_subscribe(){addEventListener("StatesManager.action.Run",(e=>{"SwichLevelOnMap.On"===e.detail&&setTimeout(this.openActiveLevelOnMap.bind(this),50)}))}}e.exports=t},2344:e=>{e.exports=class{constructor(){this.assets=[{tag:"div",key:"bgStartMeny",className:"bgMap"},{tag:"container",id:"menuGridContainer",className:"menuGridContainer",contents:[{tag:"container",id:"oresOnMapContainer",className:"oresOnMapContainer",contents:[]}]},{tag:"button",key:"shopButton",name:"shopMapButton",className:"shopMapButton"},{tag:"button",key:"closeButton",name:"closeGameOnMap",className:"closeGame"}]}}},6515:(e,t,s)=>{CoreXam.App.Components.Meny={Template:s(1235),Controller:s(5648)}},5648:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{}e.exports=t},1235:e=>{e.exports=class{constructor(){this.assets=[{tag:"div",key:"bgStartMeny",className:"bgStartMeny"},{tag:"container",id:"menuContainer",className:"menuContainer",contents:[{tag:"img",key:"blueRoskMeny",className:"blueRoskMeny"},{tag:"img",key:"blueSecondRoskMeny",className:"blueSecondRoskMeny"},{tag:"img",key:"darkRoskMeny",className:"darkRoskMeny"},{tag:"img",key:"darkTwoRoskMeny",className:"darkTwoRoskMeny"},{tag:"container",id:"playerButtonContainer",className:"mainButtonContainer",contents:[{tag:"button",key:"mainButton",name:"startGame",textContent:"Start Game",className:"mainButton"},{tag:"button",key:"mainButton",name:"shopMenyButton",textContent:"Shop",className:"mainButton"},{tag:"button",key:"mainButton",name:"playerButton",textContent:"new Player",className:"mainButton"}]},{tag:"img",key:"logo",className:"logo"}]},{tag:"text",id:"gameVersion",textContent:"Game Version 1.2b",className:"gameVersion"}]}}},6412:(e,t,s)=>{CoreXam.App.Components.OreMinerals={Template:s(2528),Controller:s(3656)}},3656:(e,t,s)=>{const a=s(6800);class n extends CoreXam.CoreLogics.BaseCoreLogics{constructor(...e){super(...e),"Mobile"===CoreXam.Device?(this._maxElementsOnCoreGame=40,this.maxElementsOnScene=40):(this._maxElementsOnCoreGame=90,this.maxElementsOnScene=90),this.name="OreMinerals",this.levelConfig=CoreXam.App.LevelConfig,this.modelOresContainer=document.getElementById("modelOres"),this.oresOnLevelContainer=document.getElementById("oresOnLevel"),this.currentLevel=1,this.cloneCounter=0,this.typeOfObject="target",this.timeOutArray=[],this.optionsCurrentLevel=!1,this.clasesToMoveOres=["ores-oresMoveDown","ores-moveLeft","ores-moveRight"],this.defaulPlaneAnimation="static",this.partCreatedOres=[],this.intervalMuveOres=500,this.numberOresToCreate=5,this.oreTimeAnimation=1e4}start(e,t){if(this.partCreatedOres=[],this.oresOnLevelContainer.childNodes.length<this.maxElementsOnScene){e.numberOresToCreate>this._maxElementsOnCoreGame&&(e.numberOresToCreate=this._maxElementsOnCoreGame);for(let t=0;t<=e.numberOresToCreate;t++)this.createOre();t&&this.oresStartMove(this.intervalMuveOres)}}createOre(){const e=this.getRandomCollor();this.clonelement(e)}oreCrash(e){const t=e.offsetParent;t.replaceChildren();const s=(new a).assets.find((e=>"explosion"===e.id));this.createAssets([s],t),t.querySelector("canvas").sprite.play(),this.destroyElement(t,700)}getOptionsCurrentLevel(e){const t=this.levelConfig.gameLevels.find((t=>t.level===e));return this.maxElementsOnScene=this.oreTimeAnimation/this.intervalMuveOres,this.maxElementsOnScene>this._maxElementsOnCoreGame&&(this.intervalMuveOres=this.oreTimeAnimation/this._maxElementsOnCoreGame,this.maxElementsOnScene=this._maxElementsOnCoreGame),console.log(this.maxElementsOnScene),t}getRandomCollor(){const e=this.levelConfig.allColorsOre.length-1;return this.levelConfig.allColorsOre[Math.floor(Math.random()*e)]}clonelement(e){(new a).assets.forEach((t=>{t.collor===e&&this.addElemenOnScene(t)}))}addElemenOnScene(e){this.setAtributeOnSkelet(e),this.createAssets([e],this.oresOnLevelContainer),this.setStartPosition(e.id)}setAtributeOnSkelet(e){let t=e.contents.filter((t=>t.id===e.skeletId));const s=e.id.split("_")[0],a=e.skeletId.split("_")[0];e.id=s+"_"+this.cloneCounter,e.skeletId=a+"_"+this.cloneCounter,t.forEach((t=>{t.id=e.skeletId})),this.cloneCounter++}setStartPosition(e){let t=!1;if(this.oresOnLevelContainer.childNodes.forEach((s=>{s.id===e&&(t=s)})),t){let e=8,s=80;t.style.left=Math.floor(Math.random()*(s-e)+e)+"vw",this.partCreatedOres.push(t)}}oresStartMove(e){let t=0;this.partCreatedOres.forEach((s=>{let a=setTimeout(this.addClass.bind(this),t,s);this.timeOutArray.push(a),t+=e}))}addClass(e){const t=this.getRandomClass(e);e.classList.add(t),this.setSpeedOres(e),this.addOresOnCollision(e,this.typeOfObject)}setSpeedOres(e){const t=this.optionsCurrentLevel.oresSpeed;if(t){const s=this.getRandomSpeed(t);e.style.setProperty("--timeAnimation",`${s}s`)}}getRandomSpeed(e){return Math.round(Math.random()*(e.max-e.min)+e.min)}getRandomClass(e){const t=e.getBoundingClientRect();let s=0;return t.left>.3*this.scene.clientWidth&&t.left<.7*this.scene.clientWidth&&(s=Math.floor(Math.random()*this.clasesToMoveOres.length)),this.clasesToMoveOres[s]}addOresOnCollision(e,t){const s=new CustomEvent("CollisionBetween.addObject",{detail:{newObject:e,typeOfObject:t}});dispatchEvent(s)}stop(){this.cloneCounter=0,this.oresOnLevelContainer.replaceChildren(),this.timeOutArray.forEach((e=>clearTimeout(e))),this.timeOutArray=[]}_subscribe(){addEventListener("colisionOnScene.oreCrash",(e=>{this.oreCrash(e.detail)})),addEventListener("StatesManager.action.SratLevel",(e=>{this.currentLevel=Number(e.detail)})),addEventListener("gameUi.timeToCreateOre",(e=>{this.start(e,!0)})),addEventListener("gameUi.levelReady",(e=>{this.intervalMuveOres=e.detail.timeIntervalToMove,this.numberOresToCreate=e.detail.numberOresToCreate,this.optionsCurrentLevel=this.getOptionsCurrentLevel(this.currentLevel)})),addEventListener("Component.Run",(e=>{e.detail,this.name})),addEventListener("Component.Stop",(e=>{e.detail===this.name&&this.stop(e)}))}}e.exports=n},2528:e=>{e.exports=class{constructor(){this.assets=[{tag:"container",id:"oresOnLevel",className:"oresOnLevelContainer",contents:[]}]}}},6800:e=>{e.exports=class{constructor(){this.assets=[{tag:"sprite",id:"explosion",key:"explosionSmale",className:"explosion",animationName:"explosion",animationRepeat:!1},{tag:"container",id:"oreBlueContainer",className:"oreContainer",skeletId:"oreBlueSkelet",collor:"blue",contents:[{tag:"div",collor:"blue",id:"oreBlueSkelet",className:"oreSkelet"},{tag:"img",key:"blue",id:"blue",className:"oreBlue"}]},{tag:"container",id:"oreBlackContainer",className:"oreContainer",skeletId:"oreBlackSkelet",collor:"black",contents:[{tag:"div",collor:"black",id:"oreBlackSkelet",className:"oreSkelet"},{tag:"img",key:"black",id:"black",className:"oreBlack"}]},{tag:"container",id:"oreGreenContainer",className:"oreContainer",skeletId:"oreGreenSkelet",collor:"green",contents:[{tag:"div",collor:"green",id:"oreGreenSkelet",className:"oreSkelet"},{tag:"img",key:"green",id:"green",className:"oreGreen"}]},{tag:"container",id:"oreOrangeContainer",className:"oreContainer",skeletId:"oreOrangeSkelet",collor:"orange",contents:[{tag:"div",collor:"orange",id:"oreOrangeSkelet",className:"oreSkelet"},{tag:"img",key:"orange",id:"orange",className:"oreOrange"}]},{tag:"container",id:"orePurpleContainer",className:"oreContainer",skeletId:"orePurpleSkelet",collor:"purple",contents:[{tag:"div",collor:"purple",id:"orePurpleSkelet",className:"oreSkelet"},{tag:"img",key:"purple",id:"purple",className:"orePurple"}]},{tag:"container",id:"oreRedContainer",className:"oreContainer",skeletId:"oreRedSkelet",collor:"red",contents:[{tag:"div",collor:"red",id:"oreRedSkelet",className:"oreSkelet"},{tag:"img",key:"red",id:"red",className:"oreRed"}]},{tag:"container",id:"oreYellowContainer",className:"oreContainer",skeletId:"oreYellowSkelet",collor:"yellow",contents:[{tag:"div",collor:"yellow",id:"oreYellowSkelet",className:"oreSkelet"},{tag:"img",key:"yellow",id:"yellow",className:"oreYellow"}]}]}}},3200:(e,t,s)=>{CoreXam.App.Components.Plane={Template:s(7632),Controller:s(1620)},console.log("=>./app/Sky is completed")},1620:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.bonusFireUp=!1,this.bonusShild=!1,this.name="Plane",this.dragg=!1,this.canMovePlane=!1,this.defaulPlaneAnimation="fly",this.rocketSpeed=350,this.fireRate=50,this.eventRateOfFire=new CustomEvent("plane.rateOfFire"),this.setIntervalOfFire=!1,this.placeToFlyPlane=document.getElementById("placeToFlyPlane"),this.levelFireRate=!1,this.placeToFlyPlane&&this.subscribeOnFly()}start(e){this.getElements(),setTimeout(this.setStartPositionPlane.bind(this),50),this.setSpeedRocket(),this.canMovePlane=!0,this.planeCanvas.sprite.play(this.defaulPlaneAnimation,!0),this.planeShieldCanvas.style.display="none",this.runRateOfFire()}getElements(){this.planeContainer=document.getElementById("planeContainer"),this.planeCanvas=document.getElementById("canvasPlane"),this.planeShieldCanvas=document.getElementById("shield"),this.style=document.styleSheets[0].cssRules,this.scalePlane=getComputedStyle(this.planeContainer).scale,this.planeSize={width:this.planeCanvas.width*this.scalePlane,height:this.planeCanvas.height*this.scalePlane}}setStartPositionPlane(){const e=this.scene.clientWidth/2,t=this.scene.clientHeight,s={pageX:e,pageY:t};this.dragg=!0,s.pageY=t+2*this.planeSize.height,this.movePlane(s),this.planeContainer.style.display="block",this.planeContainer.style.setProperty("transition-duration","600ms"),setTimeout((()=>{s.pageY=t-2*this.planeSize.height,this.addObjectOnCollision(this.planeContainer,this.name),this.movePlane(s),this.dragg=!1,setTimeout((()=>{this.planeContainer.style.setProperty("transition-duration","80ms")}),100)}),100)}movePlaneOnWin(){this.planeContainer.style.setProperty("transition-duration","900ms"),setTimeout((()=>{this.planeContainer.style.setProperty("--planeY","-60vh")}),1200)}movePlane(e){if(this.dragg&&"run"===CoreXam.gameStage.palayGame){let t=50,s=50;e.touches?(t=Math.round(e.touches[0].clientX-this.planeSize.width/2),s=Math.round(e.touches[0].clientY-this.planeSize.height/2)):(t=Math.round(e.pageX-this.planeSize.width/2),s=Math.round(e.pageY-this.planeSize.height/2));let a=t/(this.scene.clientWidth*this.scalePlane)*100,n=s/(this.scene.clientHeight*this.scalePlane)*100;this.planeContainer.style.setProperty("--planeX",`${a}vw`),this.planeContainer.style.setProperty("--planeY",`${n}vh`)}}stop(){this.canMovePlane=!1,clearInterval(this.setIntervalOfFire),this.planeContainer.style.display="none",this.planeCanvas.sprite.stop()}setSpeedRocket(){const e=[...document.styleSheets[0].cssRules].find((e=>":root"===e.selectorText)),t=this.scene.clientHeight,s=Math.round(t/this.rocketSpeed);e.style.setProperty("--rocketSpeed",`${s}s`)}runBonus(e){switch(e.name){case"pickupRateFireUp":CoreXam.gameStage.planeBonusFireUp||CoreXam.gameStage.planeBonusShield||(clearInterval(this.setIntervalOfFire),this.changeFireRate(e.bonusRateOfFire),CoreXam.gameStage.planeBonusFireUp=!0,setTimeout((()=>{CoreXam.gameStage.planeBonusShield||(clearInterval(this.setIntervalOfFire),this.setRateOfFire(this.levelFireRate),this.runRateOfFire(),CoreXam.gameStage.planeBonusFireUp=!1)}),e.timeOfBonus));break;case"pickupShild":CoreXam.gameStage.planeBonusShield||(clearInterval(this.setIntervalOfFire),CoreXam.gameStage.planeBonusShield=!0,this.shildUp(e.timeOfBonus),setTimeout((()=>{this.planeShieldCanvas.sprite.stop(),this.planeShieldCanvas.style.display="none",this.setRateOfFire(this.levelFireRate),this.runRateOfFire(),CoreXam.gameStage.planeBonusFireUp=!1,CoreXam.gameStage.planeBonusShield=!1}),e.timeOfBonus))}}shildUp(){this.planeShieldCanvas.style.display="",this.planeShieldCanvas.sprite.play("shieldUp",!0)}changeFireRate(e){this.setRateOfFire(e),this.runRateOfFire()}setRateOfFire(e){const t=6e4/e;this.fireRate=t}runRateOfFire(){this.setIntervalOfFire=setInterval((()=>{dispatchEvent(this.eventRateOfFire)}),this.fireRate)}changeAnimation(e){this.planeCanvas.sprite.play("blow",!1)}destroy(e){if("plane"===e.ditail.canvasContext.canvas.key){const e=new CustomEvent("check.GameResult",{detail:"planeCrashEnd"});dispatchEvent(e),this.planeContainer.style.display="none"}}addObjectOnCollision(e,t){const s=new CustomEvent("CollisionBetween.addObject",{detail:{newObject:e,typeOfObject:t}});dispatchEvent(s)}handlerMovePlane(e){if(this.canMovePlane)switch(e.type){case"mousedown":case"touchmove":this.dragg=!0,this.movePlane(e);break;case"mouseup":this.dragg=!1;break;case"mousemove":this.movePlane(e)}}subscribeOnFly(){this.placeToFlyPlane.addEventListener("mousedown",this.handlerMovePlane.bind(this)),this.placeToFlyPlane.addEventListener("mouseup",this.handlerMovePlane.bind(this)),this.placeToFlyPlane.addEventListener("mousemove",this.handlerMovePlane.bind(this)),this.placeToFlyPlane.addEventListener("touchmove",this.handlerMovePlane.bind(this))}_subscribe(e){addEventListener("colisionOnScene.planeCrash",(e=>{this.changeAnimation(e)})),addEventListener("SpriteLogic.animationEnd",(e=>{this.destroy(e)})),addEventListener("gameUi.levelReady",(e=>{if(e.detail.currentLevelCfg.fireRate){let t=0;CoreXam.gameStage.player.shop.fireRate&&(t=CoreXam.gameStage.player.shop.fireRate),this.levelFireRate=e.detail.currentLevelCfg.fireRate+t,this.setRateOfFire(this.levelFireRate)}this.start(e)})),addEventListener("Component.Stop",(e=>{e.detail===this.name&&this.stop(e)})),addEventListener("bonus.run",(e=>{this.runBonus(e.detail)})),addEventListener("game.win",(e=>{this.movePlaneOnWin(e)}))}}e.exports=t},7632:e=>{e.exports=class{constructor(){this.assets=[{tag:"container",id:"planeContainer",className:"planeContainer",skeletId:"skeletPlane",contents:[{tag:"div",id:"skeletPlane",className:"skeletPlane"},{tag:"div",id:"skeletPlane",className:"skeletPlane2"},{tag:"div",id:"skeletPlane",className:"skeletPlane3"},{tag:"sprite",id:"canvasPlane",key:"plane",className:"plane",animationName:"fly",animationRepeat:!0},{tag:"sprite",id:"shield",key:"shieldPlane",className:"shield",animationName:"shieldUp",animationRepeat:!0}]},{tag:"div",id:"placeToFlyPlane",className:"placeToFlyPlane notSelectable"}]}}},5428:(e,t,s)=>{CoreXam.App.Components.Players={Template:s(9088),Controller:s(2600)}},2600:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.playerButton=document.getElementsByName("playerButton")[0],this.playerInfoContainer=document.getElementById("playerInfoContainer"),this.changePlayerContainer=document.getElementById("changePlayerContainer"),this.playerLiveBg=document.getElementById("playerLiveBg"),this.playerLiveText=document.getElementById("playerLiveText"),this.overlayBg=document.getElementById("overlayPlayersBg"),this.inputPlayerName=document.getElementById("inputPlayerName"),this.buttonSavePlayerName=document.getElementById("buttonSavePlayerName"),this.buttonNoSavePlayerName=document.getElementById("buttonNoSavePlayerName"),this.oresOnMapContainer=document.getElementById("oresOnMapContainer"),this.creditsText=document.getElementById("creditsText"),this.addFireRateButton=document.getElementById("addFireRateButton"),this.addTimeButton=document.getElementById("addTimeButton"),this.oresPrices=CoreXam.App.LevelConfig.oresPrice,this.startPlayerBalance=CoreXam.App.LevelConfig.startPlayerBalance,this.levelBalance=0,this.subscribe(),this.playerData={name:"default",lastActiveLevel:1,live:3,coins:this.startPlayerBalance,constant:!0},this.playerInfoContainer.style.display="none",this.changePlayerContainer.style.display="none"}switchPlayerMeny(e){e?(this.changePlayerContainer.style.display="block",this.overlayBg.style.display="block"):(this.changePlayerContainer.style.display="none",this.overlayBg.style.display="none")}getPlayerNameOnLoadGame(){this.localPlayers=JSON.parse(localStorage.getItem("players")),this.localPlayers&&this.localPlayers.name&&1===this.localPlayers.dataVersion?(this.playerButton.textContent=this.localPlayers.name,this.playerData.name=this.localPlayers.name,this.playerData.live=this.localPlayers.live,this.playerData.coins=this.localPlayers.coins,this.playerData.shop=this.localPlayers.shop,this.playerData.dataVersion=this.localPlayers.dataVersion,this.playerData.lastActiveLevel=this.localPlayers.lastActiveLevel):this.setPlayerName(1),CoreXam.gameStage.player=this.playerData,this.setLocalStorege(),this.updateBalanceCreditsText()}setPlayerName(e){{const t=`Player-${Math.round(20*Math.random())}`;this.playerButton.textContent=t,this.playerData.name=t,this.playerData.live=3,this.playerData.coins=this.startPlayerBalance,this.playerData.shop={},this.playerData.dataVersion=e,this.playerData.lastActiveLevel=1}CoreXam.gameStage.player=this.playerData,this.setPlayerShopItems(),this.setLocalStorege(),this.updateBalanceCreditsText()}setLocalStorege(){CoreXam.gameStage.player&&(localStorage.players?this.checkPlayer():this.updateLocalStorage(this.playerData),this.openLevels())}checkPlayer(){CoreXam.gameStage.player.name===this.localPlayers.name||(this.updateLocalStorage(this.playerData),this.resetLevelClases())}resetLevelClases(){this.oresOnMapContainer.childNodes.forEach((e=>{e.classList.contains("levelOreActive")&&(e.classList.remove("levelOreActive"),e.disabled=!1)}))}updateBalanceCreditsText(e){if(e){const t=Number(this.creditsText.textContent);this.creditsText.textContent=t+e}else this.creditsText.textContent=CoreXam.gameStage.player.coins}counterCreditsonLevel(e){if(e.collor){const t=this.oresPrices.find((t=>t.name===e.collor));this.levelBalance+=t.cost,console.log("credits",this.levelBalance),this.updateBalanceCreditsText(t.cost)}}byItemOnShop(e){"live"===e.detail&&this.setPlayerLive(),this.updateBalanceCreditsText(),this.setPlayerShopItems(),this.updateLocalStorage(CoreXam.gameStage.player)}setPlayerLive(){const e=CoreXam.gameStage.player.live;this.playerLiveText.textContent=e,e>0&&this.playerLiveBg.classList.contains("playerLiveClose")&&setTimeout((()=>{this.playerLiveBg.classList.remove("playerLiveClose")}),500),e<=0&&!this.playerLiveBg.classList.contains("playerLiveClose")&&setTimeout((()=>{this.playerLiveBg.classList.add("playerLiveClose")}),500)}setPlayerShopItems(){this.playerData.shop.fireRate?this.addFireRateButton.textContent=this.playerData.shop.fireRate:this.addFireRateButton.textContent="0",this.playerData.shop.additionalTime?this.addTimeButton.textContent=this.playerData.shop.additionalTime:this.addTimeButton.textContent="0"}openLevels(){this.levelConfig=CoreXam.App.LevelConfig;const e=this.localPlayers.lastActiveLevel;this.levelConfig.gameLevels.forEach(((t,s)=>{t.active=s<e}))}updateLocalStorage(e){localStorage.setItem("players",JSON.stringify(e)),this.localPlayers=JSON.parse(localStorage.getItem("players"))}updatePlayerDataOnFinishLevel(e){e?CoreXam.gameStage.player.live>0&&CoreXam.gameStage.player.live--:(CoreXam.gameStage.player.coins+=this.levelBalance,CoreXam.gameStage.curentLevel>=this.playerData.lastActiveLevel&&(CoreXam.gameStage.player.lastActiveLevel=CoreXam.gameStage.curentLevel+1)),CoreXam.gameStage.player.shop={},this.updateBalanceCreditsText(),this.setPlayerShopItems(),this.updateLocalStorage(CoreXam.gameStage.player),this.levelBalance=0}subscribe(){this.playerButton.addEventListener("click",(()=>{this.switchPlayerMeny(!0)})),this.buttonSavePlayerName.addEventListener("click",(e=>{this.setPlayerName(),this.switchPlayerMeny(!1),setTimeout(this.setPlayerLive.bind(this),50)})),this.buttonNoSavePlayerName.addEventListener("click",(()=>{this.switchPlayerMeny(!1)})),addEventListener("Core.sceneWasCreated",(e=>{this.getPlayerNameOnLoadGame(),this.setPlayerShopItems(),setTimeout(this.setPlayerLive.bind(this),50)})),addEventListener("game.lose",(e=>{this.updatePlayerDataOnFinishLevel(!0),setTimeout(this.setPlayerLive.bind(this),50)})),addEventListener("game.win",(e=>{this.updatePlayerDataOnFinishLevel()})),addEventListener("colisionOnScene.oreCrash",(e=>{this.counterCreditsonLevel(e.detail)})),addEventListener("shop.byItem",(e=>{this.byItemOnShop(e)}))}}e.exports=t},9088:e=>{e.exports=class{constructor(){this.assets=[{tag:"container",id:"playerInfoContainer",className:"playerInfoContainer",contents:[{tag:"container",id:"planeLiveContainer",className:"planeLiveContainer",contents:[{tag:"img",key:"planeLive",id:"playerLiveBg",className:"playerLiveBg"},{tag:"text",id:"playerLiveText",textContent:"10",className:"playerLiveText"}]},{tag:"container",id:"playerCreditsContainer",className:"playerCreditsContainer",contents:[{tag:"img",key:"credits",id:"playerCreditsImg",className:"playerCreditsImg"},{tag:"text",id:"creditsText",textContent:"1000",className:"playerCreditsText"}]},{tag:"container",id:"playerShopContainer",className:"playerShopContainer",contents:[{tag:"button",key:"addFireRate",id:"addFireRateButton",className:"addFireRateButton",textContent:"90"},{tag:"button",key:"addTime",id:"addTimeButton",className:"addTimeButton",textContent:"50"}]}]},{tag:"div",id:"overlayPlayersBg",className:"overlayPlayersBg"},{tag:"container",id:"changePlayerContainer",className:"changePlayerContainer",contents:[{tag:"container",id:"itemsBoxContainer",className:"itemsBoxContainer",contents:[{tag:"img",key:"playerBg",id:"playerBg",className:"playerBg"},{tag:"text",id:"fullScreenText",textContent:"Вы Точно хотите изменить игрока? весь прогресс исчезнет!",className:"playerNameText"},{tag:"button",id:"buttonSavePlayerName",textContent:"OK",className:"buttonSavePlayerName"},{tag:"button",id:"buttonNoSavePlayerName",textContent:"NO",className:"buttonNoSavePlayerName"}]}]}]}}},9572:(e,t,s)=>{CoreXam.App.Components.Popup={Template:s(9776),Controller:s(488)}},488:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.name="Popup",this.startCounterText=document.getElementById("startCounterText"),this.popupComponent=document.getElementById("Popup"),this.fullScreenPopupContainer=document.getElementById("fullScreenPopupContainer"),this.soundPopupContainer=document.getElementById("soundPopupContainer"),this.fullScreenPopupContainer.style.display="none",this.soundPopupContainer.style.display="none"}blockEventPointer(){}showPopup(e){switch(this.name=e,e){case"startGamePopup":this.showPopupStartGame();break;case"onFinishWin":this.showPopupFinishGame("You WIN");break;case"onFinishLose":this.showPopupFinishGame("You LOSE");break;case"fullScreenOnLoadGame":case"fullScreenOnResize":this.showPopupFullScreene("");break;case"audioOn":this.showPopupAudioOn("");break;case"loadingGame.on":this.showPopupLoadingGame("");break;case"loadingGame.off":this.showPopupLoadingGame("none")}}showPopupGamePause(e){}showPopupStartGame(){let e=3;const t=setInterval((()=>{if(e>=1&&(this.startCounterText.textContent=`${e}`),e<1&&(this.startCounterText.textContent="GO"),e<0){this.startCounterText.textContent="",clearInterval(t);const e=new CustomEvent("popup.hidePopap",{detail:this.name});dispatchEvent(e)}--e}),500)}showPopupFinishGame(e){let t=2500;"You WIN"===e&&(t=4e3),this.startCounterText.textContent=e,setTimeout((()=>{this.startCounterText.textContent="";const e=new CustomEvent("popup.hidePopap",{detail:this.name});dispatchEvent(e)}),t)}showPopupAudioOn(e){if(this.soundPopupContainer.style.display=e,"none"===e){const e=new CustomEvent("popup.hidePopap",{detail:this.name});dispatchEvent(e)}}showPopupFullScreene(e){if(this.popupComponent.style.display=e,this.fullScreenPopupContainer.style.display=e,"none"===e){const e=new CustomEvent("popup.hidePopap",{detail:this.name});dispatchEvent(e)}}showPopupLoadingGame(e){if("none"===e){this.startCounterText.textContent="",clearInterval(this.inervalDotMuve);const e=new CustomEvent("popup.hidePopap",{detail:this.name});dispatchEvent(e)}else{this.soundPopupContainer.style.display="none",this.startCounterText.textContent="loading";let t=0;this.inervalDotMuve=setInterval((()=>{this.startCounterText.style.top=`${t}%`,t+=5,t>15&&(t=0)}),300),this.popupComponent.style.display=e}}_subscribe(){document.addEventListener("click",(e=>{switch(e.target.name){case"fullscreenOk":this.showPopupFullScreene("none");break;case"audioNo":case"audioOk":this.showPopupAudioOn("none")}}),!1),addEventListener("swichPopup.showPopap",(e=>{this.showPopup(e.detail)}))}}e.exports=t},9776:e=>{e.exports=class{constructor(){this.assets=[{tag:"div",className:"overlayBg"},{tag:"text",id:"startCounterText",textContent:"",className:"popupStartCounter"},{tag:"container",id:"fullScreenPopupContainer",className:"fullScreenPopupContainer",contents:[{tag:"text",id:"fullScreenText",textContent:"игра включит полноэкранный режим?",className:"fullScreenText"},{tag:"button",name:"fullscreenOk",textContent:"OK",className:"fullscreenOk"}]},{tag:"container",id:"soundPopupContainer",className:"soundPopupContainer",contents:[{tag:"text",id:"audioText",textContent:"включить звук?",className:"audioText"},{tag:"button",name:"audioNo",className:"audioNo",textContent:"NO"},{tag:"button",name:"audioOk",className:"audioOk",textContent:"OK"}]}]}}},1911:(e,t,s)=>{CoreXam.App.Components.Shop={Template:s(9844),Controller:s(6008)}},6008:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.componentShop=document.getElementById("Shop"),this.eventByItem=new Event("shop.byItem"),this.playerInfoContainer=document.getElementById("playerInfoContainer"),this.buttonByLive=document.getElementById("byLive"),this.buttonByFireRate=document.getElementById("byFireRate"),this.buttonByLevelTime=document.getElementById("byLevelTime"),this.shopPrice=CoreXam.App.LevelConfig.shopPrice,this.subscribe(),this.setPriceOnShop()}setPriceOnShop(){this.buttonByLive.textContent=`BY LIVE FOR ${this.shopPrice.live.price}`,this.buttonByFireRate.textContent=`BY FIRE RATE FOR ${this.shopPrice.fireRate.price}`,this.buttonByLevelTime.textContent=`BY 5 s TIME FOR ${this.shopPrice.additionalTime.price}`}switchShop(e){const t=e?"block":"none";if(this.componentShop.style.display=t,"IDLE"===CoreXam.gameStage.currentStage){const t=e?"grid":"none";this.playerInfoContainer.style.display=t}}byLive(){const e=CoreXam.gameStage.player;e.live<99&&e.coins>=this.shopPrice.live.price&&(e.live+=this.shopPrice.live.value,e.coins-=this.shopPrice.live.price,this.eventByItem.detail="live",dispatchEvent(this.eventByItem))}byFireRate(){const e=CoreXam.gameStage.player;e.coins>=this.shopPrice.fireRate.price&&(e.shop.fireRate?e.shop.fireRate+=this.shopPrice.fireRate.value:e.shop.fireRate=this.shopPrice.fireRate.value,e.coins-=this.shopPrice.fireRate.price,this.eventByItem.detail="fireRate",dispatchEvent(this.eventByItem))}byLevelTime(){const e=CoreXam.gameStage.player;e.coins>=this.shopPrice.additionalTime.price&&(e.shop.additionalTime?e.shop.additionalTime+=this.shopPrice.additionalTime.value:e.shop.additionalTime=this.shopPrice.additionalTime.value,e.coins-=this.shopPrice.additionalTime.price,this.eventByItem.detail="additionalTime",dispatchEvent(this.eventByItem))}subscribe(){addEventListener("gameUI.openShop",(e=>{this.switchShop(!0)})),addEventListener("gameUI.closeShop",(e=>{this.switchShop(!1)})),this.buttonByLive.addEventListener("click",(e=>{this.byLive()})),this.buttonByFireRate.addEventListener("click",(e=>{this.byFireRate()})),this.buttonByLevelTime.addEventListener("click",(e=>{this.byLevelTime()}))}}e.exports=t},9844:e=>{e.exports=class{constructor(){this.assets=[{tag:"div",className:"overlayShopBg"},{tag:"button",key:"closeButton",name:"closeShopMap",className:"closeGame"},{tag:"container",id:"shopContainer",className:"shopContainer",contents:[{tag:"button",key:"shopBlock",id:"byLive",name:"byLive",textContent:"By live for",className:"liveBottonShop"},{tag:"button",key:"shopBlock",id:"byFireRate",name:"byFireRate",textContent:"By fireRate for",className:"fireRateUpBottonShop"},{tag:"button",key:"shopBlock",id:"byLevelTime",name:"byLevelTime",textContent:"By 10 S levelTime for",className:"additionaLevelTaim"}]}]}}},3908:(e,t,s)=>{CoreXam.App.Components.Sky={Template:s(8624),Controller:s(1275)},console.log("=>./app/Sky is completed")},1275:e=>{class t extends CoreXam.CoreLogics.BaseCoreLogics{constructor(){super(),this.BgSky=!1,this.smallStarsOne=!1,this.smallStarsTwo=!1,this.defaultPath=0,this.speed=100,this.defaultAnimationTime=0,this.name="Sky"}start(){this.getElements(),this.setDefaultAnimationOptions(),this.addClass(),this.setSpeedStarsOnresize()}stop(){this.removeClass()}getElements(){const e=document.querySelectorAll("img.bgSky");this.smallStarsOne=document.getElementsByName("starsShineOne")[0],this.smallStarsTwo=document.getElementsByName("starsShineTwo")[0],e.forEach((e=>{"skyOne"===e.key&&(this.BgSky=e)}))}setDefaultAnimationOptions(){this.defaultPath=Math.round(this.smallStarsOne.getBoundingClientRect().height),this.defaultAnimationTime=this.defaultPath/this.speed}addClass(e){this.smallStarsOne.classList.add("starsShineOne-move"),this.smallStarsTwo.classList.add("starsShineTwo-move")}removeClass(e){this.smallStarsOne.classList.remove("starsShineOne-move"),this.smallStarsTwo.classList.remove("starsShineTwo-move")}setSpeedStarsOnresize(){if(this.smallStarsOne){const e=Math.round(this.smallStarsOne.getBoundingClientRect().height)/this.defaultPath,t=Math.round(e*this.defaultAnimationTime)+"s";this.smallStarsOne.style.setProperty("--timeAnimation",`${t}`),this.smallStarsTwo.style.setProperty("--timeAnimation",`${t}`)}}starsMove(){}_subscribe(e){window.addEventListener("resize",this.setSpeedStarsOnresize.bind(this)),addEventListener("Component.Run",(e=>{e.detail===this.name&&this.start(e)})),addEventListener("Component.Stop",(e=>{e.detail===this.name&&this.stop(e)}))}}e.exports=t},8624:e=>{e.exports=class{constructor(){this.assets=[{tag:"img",key:"skyOne",className:"bgSky"},{tag:"img",key:"stars",name:"starsShineOne",className:"starsShine"},{tag:"img",key:"stars",name:"starsShineTwo",className:"starsShine"}]}}},4420:(e,t,s)=>{CoreXam.App.Modules={ColisionOnScene:s(1448),ConfigStates:s(5908),Fullscreen:s(3116),AudioGame:s(7680)},s(5296)},3116:e=>{class t extends CoreXam.Modules.GameUI.PauseGame{constructor(){super(),this.scene=document.getElementById("scene"),this.openFullScreenPopup=!1}changeFullScreen(e){if("Mobile"===CoreXam.Device&&null===document.fullscreenElement&&("run"===CoreXam.gameStage.palayGame&&dispatchEvent(new CustomEvent("pauseGame.geme.stop")),!this.openFullScreenPopup)){const e=new CustomEvent("swichPopup.showPopap",{detail:"fullScreenOnResize"});dispatchEvent(e),this.openFullScreenPopup=!0}}fulscreenHandler(){this.scene.requestFullscreen().then((()=>{console.log("fullscren")})).catch((e=>{console.log(e)})),screen.orientation.lock("portrait-primary").then((function(){console.log("landscape-primary")})).catch((function(e){console.log(e)})),this.openFullScreenPopup&&"stop"===CoreXam.gameStage.palayGame&&setTimeout((()=>{dispatchEvent(new CustomEvent("pauseGame.geme.run"))}),500),this.openFullScreenPopup=!1}_subscribe(){super._subscribe(),addEventListener("loadGame.gameResourcesReady",(e=>{setTimeout((()=>{this.changeFullScreen()}),1)})),addEventListener("fullscreenchange",(e=>{this.changeFullScreen()})),addEventListener("click",(e=>{"fullscreenOk"===e.target.name&&this.fulscreenHandler()}))}}e.exports=t},1448:e=>{class t extends CoreXam.Modules.Interaction.CollisionBetween{constructor(){super(),this.counterDestroyOres=0,this.numberGetBonus=30,this.planeEvent=new Event("colisionOnScene.planeCrash"),this.oreCrashEvent=new Event("colisionOnScene.oreCrash"),this.eventNeedCreateBonus=new Event("colisionOnScene.needCreateBonus"),this.planeCathBonus=new Event("colisionOnScene.planeCathBonus"),this.planeWasCrash=!1,this.name="colisionOnScene",this.typeOfBulets="blueEnergyLaser",this.bordeAreaColision={top:59,bottom:0,left:2,right:2}}start(){this.planeWasCrash=!1,this.counterDestroyOres=0,this.collisionSwich(!0)}stop(){this.counterDestroyOres=0,this.collisionSwich(!1)}planeCollision(e,t){t||(dispatchEvent(this.planeEvent),this.collisionSwich(!1),console.log("PlaneIsCollisions"),this.planeWasCrash=!0)}buletCollision(e,t){const s=e.detail.bulet,a=e.detail.target;this.removeCollision(a),t?(this.oreCrashEvent.detail=a,dispatchEvent(this.oreCrashEvent)):(this.removeCollision(s,!0),this.oreCrashFilter(a))}setBunusOptionOnLevel(e){e.detail.currentLevelCfg.bonus&&(this.numberGetBonus=e.detail.currentLevelCfg.bonus.numberGetBonus)}oreCrashFilter(e){++this.counterDestroyOres,this.counterDestroyOres===this.numberGetBonus?(this.eventNeedCreateBonus.detail=e,dispatchEvent(this.eventNeedCreateBonus),this.counterDestroyOres=0):(this.oreCrashEvent.detail=e,dispatchEvent(this.oreCrashEvent))}sortColision(e){"skeletPlane"!==e.detail.bulet.id||this.planeWasCrash||(e.detail.target.bonus?(this.planeCathBonus.detail=e.detail.target,dispatchEvent(this.planeCathBonus),this.removeCollision(e.detail.target),this.destroyElement(e.detail.target.offsetParent)):CoreXam.gameStage.planeBonusShield?this.buletCollision(e,!0):this.planeCollision(e)),e.detail.bulet.key===this.typeOfBulets&&(e.detail.target.bonus||this.buletCollision(e))}objectIsOutside(e){if(e.detail.element.key===this.typeOfBulets)this.removeCollision(e.detail.element,!0);else if(e.detail.element.bonus&&e.detail.element.option.top>200){const t=e.detail.element.offsetParent;t&&(this.removeCollision(e.detail.element),this.destroyElement(t))}}_subscribe(){addEventListener("Component.Run",(e=>{e.detail===this.name&&this.start(e)})),addEventListener("Component.Stop",(e=>{e.detail===this.name&&this.stop(e)})),addEventListener("gameUi.levelReady",(e=>{this.setBunusOptionOnLevel(e)})),addEventListener("CollisionBetween.addObject",(e=>{const t=e.detail.newObject,s=e.detail.typeOfObject;this.addObjectToCollision(t,s)})),addEventListener("CollisionBetween.IsCollisions",(e=>{this.sortColision(e)})),addEventListener("CollisionBetween.ObjectIsOutside",(e=>{this.objectIsOutside(e)}))}}e.exports=t},7680:e=>{class t extends CoreXam.Modules.Sound.AudioSound{constructor(){super(),this.buttonAudioOk=document.getElementsByName("audioOk")[0],this.buttonAudioNo=document.getElementsByName("audioNo")[0],this.nameSound=!1,this.audioSamplesLoaded=!1,this.audioSampleLevels=["batleLevel","batleOneLevel"],this.curentSubscribe()}setDesignOnAudioBox(){document.getElementById("audioDiv"),this.audioPlayButton=document.getElementById("audioPlayButton"),this.audioVolumeControl=document.getElementById("audioVolumeControl");const e=document.getElementById("audioStereoControl"),t=document.getElementById("audioPlayText");this.audioPlayButton.style.backgroundImage="url('./assets/images/meny/soundPlay.png')",this.audioPlayButton.style.backgroundRepeat="no-repeat",this.audioPlayButton.style.backgroundColor="transparent",this.audioPlayButton.style.width="44px",this.audioPlayButton.style.height="44px",this.audioPlayButton.style.backgroundSize="contain",this.audioPlayButton.style.border="0px",this.audioPlayButton.style.filter="drop-shadow(0px 3px 4px black)",t.style.backgroundColor="black",t.style.color="#ffe2df",t.textContent="",this.audioVolumeControl.style.display="none",e.style.display="none"}togleBgsoundButton(e){this.audioPlayButton.style.backgroundImage=e>0?"url('./assets/images/meny/soundPlay.png')":"url('./assets/images/meny/soundPause.png')"}switchSuond(e){const t=e.detail;if(this.audioSamplesLoaded)switch(t){case"pickupRateFireUp":default:break;case"pickupShild":this.shildSound(!0);break;case"levelOpen":this.levelOpenSound(!0);break;case"planeCrash":this.planeCrashSound(!0);break;case"oresDestroyed":this.oresBlowSound(!0);break;case"rocketImg":this.rocketFireSound(!0);break;case"blueEnergyLaser":this.laserFireSound(!0);break;case"LevelsGame.On":this.soundOnMeny(!1),this.soundOnStartLevel(!0);break;case"startGamePopup":this.soundOnLevel(!0);break;case"LevelsGame.Off":this.soundOnLevel(!1);break;case"SwichPopup.OnFinishWin":this.soundOnLevel(!1),this.soundWinLevel(!0);break;case"SwichPopup.OnFinishLose":this.soundOnLevel(!1),this.soundLoseLevel(!0);break;case"onFinishWin":case"onFinishLose":case"loadingGame.off":this.soundOnMeny(!0)}}soundOnStartLevel(e){e&&this.play("startLevel",0)}soundLoseLevel(e){e&&this.play("loseGame",0)}soundWinLevel(e){e&&this.play("levelWin",0)}levelOpenSound(e){e&&this.play("levelOpen",0)}planeCrashSound(e){e&&this.play("explosionPlane",0)}oresBlowSound(e){e&&this.play("explosion",0)}rocketFireSound(e){e&&this.play("fire",0)}laserFireSound(e){e&&this.play("fireBlaster",0)}shildSound(e){e&&this.play("shieldActive",0)}soundOnMeny(e){e?this.play("mainMeny",0):this.stop("mainMeny")}soundOnLevel(e){e?(this.nemeLevelSample=this.getName(),this.play(this.nemeLevelSample,0)):this.stop(this.nemeLevelSample)}getName(){const e=this.audioSampleLevels.length,t=Math.floor(Math.random()*e);return this.audioSampleLevels[t]}uiSound(){this.play("uiClick",0)}createSoundOnLoadGame(e){dispatchEvent(new CustomEvent("module.audio.init",{detail:e}))}curentSubscribe(){addEventListener("modules.audio.audioBox.ready",(e=>{this.setDesignOnAudioBox()}),{once:!0}),addEventListener("modules.audio.volumeControl.value",(e=>{this.togleBgsoundButton(e.detail)})),document.addEventListener("click",(e=>{this.audioSamplesLoaded&&"BUTTON"===e.target.nodeName&&this.uiSound(e)})),this.buttonAudioOk.addEventListener("click",this.createSoundOnLoadGame.bind(this,!0)),this.buttonAudioNo.addEventListener("click",this.createSoundOnLoadGame.bind(this,!1)),addEventListener("modules.audio.samples.loaded",(e=>{this.audioSamplesLoaded=!0})),addEventListener("StatesManager.action.Run",(e=>{this.switchSuond(e)})),addEventListener("popup.hidePopap",(e=>{this.switchSuond(e)})),addEventListener("map.level.open",(e=>{e.detail="levelOpen",this.switchSuond(e)})),addEventListener("colisionOnScene.oreCrash",(e=>{e.detail="oresDestroyed",this.switchSuond(e)})),addEventListener("colisionOnScene.planeCrash",(e=>{e.detail="planeCrash",this.switchSuond(e)})),addEventListener("Bulets.sound.playfireGo",(e=>{this.switchSuond(e)})),addEventListener("bonus.run",(e=>{e.detail=e.detail.name,this.switchSuond(e)}))}}e.exports=t},5296:(e,t,s)=>{CoreXam.App.Modules.Actions={LoadGameAssets:s(396),SwichGameMenu:s(1032),LevelsGame:s(2664),SwichPopup:s(6488),SwichLevelOnMap:s(7520),GameResut:s(7172)}},7172:e=>{class t extends CoreXam.Modules.StatesManager.BaseActione{constructor(){super(),this._nameOfState=!1,this.levels=CoreXam.App.LevelConfig.gameLevels,this.eventGameWin=new Event("game.win"),this.eventGamelose=new Event("game.lose"),this.subscribe()}checkGameResult(e){switch(e.detail){case"timeIsGone":case"planeCrashEnd":this._nameOfState="GAME_RESULT_LOSE",dispatchEvent(this.eventGamelose),this.nextStage();break;case"allOresDestroyed":this.openNextLevel(),this._nameOfState="GAME_RESULT_WIN",dispatchEvent(this.eventGameWin),this.nextStage()}}openNextLevel(){const e=CoreXam.gameStage.curentLevel,t=this.levels.find((t=>t.level===e+1));t.active||(t.active=!0)}nextStage(){const e=new CustomEvent("StatesManager.action.NextStage",{detail:this._nameOfState});dispatchEvent(e)}subscribe(){addEventListener("check.GameResult",(e=>{this.checkGameResult(e)}))}}e.exports=t},2664:e=>{class t extends CoreXam.Modules.StatesManager.BaseActione{constructor(...e){super(...e),this._nameOfState=!1,this.arrayNamesComponentsOnScene=["Sky","OreMinerals","Plane","Bulets","GameUi","Players"],this.namesStaticComponentsOnScene=["Sky","Plane","GameUi"],this.namesDynamicComponentsOnScene=["OreMinerals","Bulets"],this.subscribe()}guard(){return!0}sceneSwich(e,t){const s=Object.values(this.scene.children);this.arrayNamesComponentsOnScene.forEach((a=>{const n=s.find((e=>e.componentName===a));n&&(n.style.display=e),t||this.stopComponents(a)})),t&&this.namesStaticComponentsOnScene.forEach((e=>{this.runComponents(e)}))}modulesSwich(e){const t="colisionOnScene";e?this.runComponents(t):this.stopComponents(t)}runComponents(e){const t=new CustomEvent("Component.Run",{detail:e});dispatchEvent(t)}stopComponents(e){const t=new CustomEvent("Component.Stop",{detail:e});dispatchEvent(t)}_onFinish(){this._terminating=!1,this.finished=!0,dispatchEvent(this.actionEventFinish),console.log(`%c action finish <--- ${this.name}.${this.actionOption}`,"color: blue")}subscribe(){addEventListener("StatesManager.action.Run",(e=>{switch(e.detail){case"LevelsGame.On":this.sceneSwich("block",!0),setTimeout((()=>{this.modulesSwich(!0)}),500);break;case"SwichPopup.OnFinishWin":case"SwichPopup.OnFinishLose":this.modulesSwich(!1),this.namesDynamicComponentsOnScene.forEach((e=>{this.stopComponents(e)}));break;case"LevelsGame.Off":this.modulesSwich(!1),this.sceneSwich("none",!1)}})),addEventListener("popup.hidePopap",(e=>{if("startGamePopup"===e.detail){this.namesDynamicComponentsOnScene.forEach((e=>{this.runComponents(e)}));const e=new CustomEvent("level.Game.wasStarted");dispatchEvent(e)}}))}}e.exports=t},396:e=>{class t extends CoreXam.Modules.StatesManager.BaseActione{constructor(...e){super(...e),this._nameOfState=!1,this.subscribe(),this.gameResourcesReady=!1}guard(){return!0}run(...e){super.run(...e),this.sceneComponents=Object.values(this.scene.children),this.sceneComponents.forEach((e=>{e.style.display="none"}))}nextStage(){const e=new CustomEvent("StatesManager.action.NextStage",{detail:this._nameOfState});dispatchEvent(e)}loopRedyGameResources(){let e=()=>{this.gameResourcesReady?this.gameOpen():window.requestAnimationFrame(e)};e()}gameOpen(){const e=new CustomEvent("loadGame.gameResourcesReady");setTimeout((()=>{dispatchEvent(e),this._nameOfState="IDLE",this.nextStage()}),500)}subscribe(){addEventListener("Core.sceneWasCreated",(e=>{this.gameResourcesReady=!0}),{once:!0}),addEventListener("swichPopup.showPopap",(e=>{"loadingGame.on"===e.detail&&this.loopRedyGameResources()}))}}e.exports=t},1032:e=>{class t extends CoreXam.Modules.StatesManager.BaseActione{constructor(...e){super(...e),this._nameOfState=!1,this.arrayNamesComponentsOnScene=["Meny","GameUi","Players"],this.playerInfoContainer=document.getElementById("playerInfoContainer"),this.arrayComponents=[],this.subscribe()}guard(){return!0}sceneSwich(e){const t=Object.values(this.scene.children);this.arrayNamesComponentsOnScene.forEach((s=>{const a=t.find((e=>e.componentName===s));a&&(a.style.display=e)}))}stopComponents(e){const t=new CustomEvent("Component.Stop",{detail:e});dispatchEvent(t)}_onFinish(){super._onFinish()}nextStage(){const e=new CustomEvent("StatesManager.action.NextStage",{detail:this._nameOfState});dispatchEvent(e)}subscribe(){document.addEventListener("click",(e=>{"startGame"===e.target.name&&(this._nameOfState="SHOW_MAP",this.nextStage()),e.target.name})),addEventListener("StatesManager.action.Run",(e=>{switch(e.detail){case"SwichGameMenu.On":this.sceneSwich("block"),this.playerInfoContainer.style.display="none";break;case"SwichGameMenu.Off":this.sceneSwich("none"),this.playerInfoContainer.style.display="grid"}}))}}e.exports=t},7520:e=>{class t extends CoreXam.Modules.StatesManager.BaseActione{constructor(...e){super(...e),this._nameOfState=!1,this.arrayNamesComponentsOnScene=["Map","GameUi","Players"],this.arrayComponents=[],this.oresOnMapContainer=document.getElementById("oresOnMapContainer"),this.subscribe()}guard(){return!0}sceneSwich(e){const t=Object.values(this.scene.children);this.arrayNamesComponentsOnScene.forEach((s=>{const a=t.find((e=>e.componentName===s));a&&(a.style.display=e)}))}runComponents(e){const t=new CustomEvent("Component.Run",{detail:e});dispatchEvent(t)}_onFinish(){super._onFinish()}nextStage(){const e=new CustomEvent("StatesManager.action.NextStage",{detail:this._nameOfState});dispatchEvent(e)}setLevelOptions(e){const t=new CustomEvent("StatesManager.action.SratLevel",{detail:e});dispatchEvent(t)}subscribe(){document.addEventListener("click",(e=>{"closeGameOnMap"===e.target.name&&(this._nameOfState="IDLE",this.nextStage())})),this.oresOnMapContainer&&this.oresOnMapContainer.addEventListener("click",(e=>{if(e.target.name&&"level"===e.target.name.split("_")[0])if(CoreXam.gameStage.player.live>0)this.setLevelOptions(e.target.textContent),this._nameOfState="GAME_LEVEL_START",this.nextStage();else{const e=new CustomEvent("StatesManager.SwichLevelOnMap.noLive");dispatchEvent(e)}})),addEventListener("StatesManager.action.Run",(e=>{switch(e.detail){case"SwichLevelOnMap.On":this.sceneSwich("block");break;case"SwichLevelOnMap.Off":this.sceneSwich("none")}}))}}e.exports=t},6488:e=>{class t extends CoreXam.Modules.StatesManager.BaseActione{constructor(...e){super(...e),this._nameOfState=!1,this.arrayNamesComponentsOnScene=["Popup"],this.subscribe()}guard(){return!0}sceneSwich(e){const t=Object.values(this.scene.children);this.arrayNamesComponentsOnScene.forEach((s=>{const a=t.find((e=>e.componentName===s));a&&(a.style.display=e)}))}showPopup(e){const t=new CustomEvent("swichPopup.showPopap",{detail:e});dispatchEvent(t)}nextStage(){const e=new CustomEvent("StatesManager.action.NextStage",{detail:this._nameOfState});dispatchEvent(e)}switchFinishState(){this._nameOfState="GAME_LEVEL_FINISHING",this.nextStage(),this._nameOfState="SHOW_MAP",this.nextStage()}subscribe(){addEventListener("StatesManager.action.Run",(e=>{switch(e.detail){case"SwichPopup.OnStartLevel":this.sceneSwich(""),this.showPopup("startGamePopup");break;case"SwichPopup.OnFinishWin":this.sceneSwich(""),this.showPopup("onFinishWin");break;case"SwichPopup.OnFinishLose":this.sceneSwich(""),this.showPopup("onFinishLose");break;case"SwichPopup.AudioOn":this.sceneSwich(""),this.showPopup("audioOn")}})),addEventListener("popup.hidePopap",(e=>{switch(this.sceneSwich("none"),e.detail){case"onFinishWin":case"onFinishLose":this.switchFinishState();break;case"audioOn":case"fullScreenOnLoadGame":this.showPopup("loadingGame.on")}})),addEventListener("loadGame.gameResourcesReady",(e=>{this.showPopup("loadingGame.off")}))}}e.exports=t},5908:e=>{class t extends CoreXam.Modules.StatesManager.ConfigStates{constructor(){super(),this.contents={INIT:{all:[{action:"LoadGameAssets.load"},{action:"SwichPopup.AudioOn"}]},IDLE:{all:[{action:"SwichLevelOnMap.Off"},{action:"SwichGameMenu.On"}]},SHOW_MAP:{all:[{action:"SwichGameMenu.Off"},{action:"SwichLevelOnMap.On"}]},GAME_LEVEL_START:{all:[{action:"GameResut"},{action:"SwichLevelOnMap.Off"},{action:"SwichPopup.OnStartLevel"},{action:"LevelsGame.On"}]},GAME_RESULT_WIN:{all:[{action:"SwichPopup.OnFinishWin"}]},GAME_RESULT_LOSE:{all:[{action:"SwichPopup.OnFinishLose"}]},GAME_LEVEL_FINISHING:{all:[{action:"LevelsGame.Off"}]}}}}e.exports=t},5355:(e,t,s)=>{const a={image:[{key:"playerBg",src:"./assets/images/players/playerBg.png"},{key:"planeLive",src:"./assets/images/players/planeLive.png"},{key:"addFireRate",src:"./assets/images/players/addFireRate.png"},{key:"addTime",src:"./assets/images/players/addTime.png"},{key:"credits",src:"./assets/images/players/credits.png"},{key:"shopBlock",src:"./assets/images/meny/shopBlock.png"},{key:"ore1",src:"./assets/images/map/ore1.png"},{key:"ore2",src:"./assets/images/map/ore2.png"},{key:"ore3",src:"./assets/images/map/ore3.png"},{key:"ore4",src:"./assets/images/map/ore4.png"},{key:"ore5",src:"./assets/images/map/ore5.png"},{key:"bgStartMeny",src:"./assets/images/meny/bgStartMeny.png"},{key:"closeButton",src:"./assets/images/meny/closeButton.png"},{key:"levelBar",src:"./assets/images/meny/levelBar.png"},{key:"blueRoskMeny",src:"./assets/images/meny/blueRoskMeny.png"},{key:"blueSecondRoskMeny",src:"./assets/images/meny/blueSecondRoskMeny.png"},{key:"cometMeny",src:"./assets/images/meny/cometMeny.png"},{key:"darkRoskMeny",src:"./assets/images/meny/darkRoskMeny.png"},{key:"darkTwoRoskMeny",src:"./assets/images/meny/darkTwoRoskMeny.png"},{key:"logo",src:"./assets/images/meny/logo.png"},{key:"optionsButton",src:"./assets/images/meny/optionsButton.png"},{key:"optionsButton",src:"./assets/images/meny/optionsButton.png"},{key:"mainButton",src:"./assets/images/meny/mainButton.png"},{key:"shopButton",src:"./assets/images/meny/shopButton.png"},{key:"levelTime",src:"./assets/images/meny/levelTime.png"},{key:"icon",src:"./assets/images/icon.png"},{key:"rocketImg",src:"./assets/images/rocket/roket.png"},{key:"redEnergyLaser",src:"./assets/images/rocket/redEnergyLaser.png"},{key:"blueEnergyLaser",src:"./assets/images/rocket/blueEnergyLaser.png"},{key:"skyOne",src:"./assets/images/sky/skyOne.png"},{key:"stars",src:"./assets/images/sky/stars.png"},{key:"black",src:"./assets/images/ores/black.png"},{key:"blue",src:"./assets/images/ores/blue.png"},{key:"green",src:"./assets/images/ores/green.png"},{key:"orange",src:"./assets/images/ores/orange.png"},{key:"purple",src:"./assets/images/ores/purple.png"},{key:"red",src:"./assets/images/ores/red.png"},{key:"yellow",src:"./assets/images/ores/yellow.png"},{key:"pickupRateFireUp",src:"./assets/images/bonus/pickupRateFireUp.png"},{key:"pickupShild",src:"./assets/images/bonus/pickupShild.png"},{key:"plane",src:"./assets/sprite/plane.png"},{key:"explosionSmale",src:"./assets/sprite/weapons/explosionSmale.png"},{key:"shieldPlane",src:"./assets/sprite/shield/shieldPlane.png"}],json:[{key:"plane",bodyJson:s(8408)},{key:"explosionSmale",bodyJson:s(3608)},{key:"shieldPlane",bodyJson:s(3832)}],sounds:[{key:"mainMeny",src:"./assets/audio/mainMeny.ogg",loop:!0,vol:.5},{key:"batleLevel",src:"./assets/audio/batleLevel.ogg",loop:!0,vol:.3},{key:"batleOneLevel",src:"./assets/audio/batleOneLevel.ogg",loop:!0,vol:.3},{key:"fire",src:"./assets/audio/fire.ogg",loop:!1,vol:.5,playbackRate:.9},{key:"fireBlaster",src:"./assets/audio/fireBlaster.ogg",loop:!1,vol:.2},{key:"startLevel",src:"./assets/audio/startLevel.ogg",vol:.4,loop:!1},{key:"shieldActive",src:"./assets/audio/shieldActive.ogg",loop:!1,vol:.8},{key:"loseGame",src:"./assets/audio/loseGame.ogg",vol:1,loop:!1},{key:"levelWin",src:"./assets/audio/levelWin.ogg",vol:.7,loop:!1},{key:"blowOres",src:"./assets/audio/blowOres.ogg",loop:!1,vol:1},{key:"explosion",src:"./assets/audio/explosion.ogg",loop:!1,vol:.9},{key:"explosionPlane",src:"./assets/audio/explosionPlane.ogg",loop:!1,vol:.9},{key:"levelOpen",src:"./assets/audio/levelOpen.ogg",loop:!1,vol:1.3},{key:"uiClick",src:"./assets/audio/uiClick.ogg",loop:!1,ol:1.5}]};e.exports=a},3720:(e,t,s)=>{CoreXam.App.Scene=s(5880),CoreXam.App.AssetsGroup=s(5355),CoreXam.App.LevelConfig=s(80),s(3712),s(4420)},80:e=>{e.exports={startPlayerBalance:2e3,shopPrice:{live:{value:1,price:1e3},fireRate:{value:10,price:200},additionalTime:{value:5,price:500}},allColorsOre:["blue","black","green","purple","red","yellow","orange","random"],oresPrice:[{name:"blue",cost:2},{name:"black",cost:1},{name:"green",cost:2},{name:"purple",cost:1},{name:"red",cost:2},{name:"yellow",cost:1},{name:"orange",cost:2}],gameLevels:[{level:1,active:!0,timeLevel:103,collorOresOnLevel:["blue","black","green","random.25"],targets:["blue.1","black.2"],oresSpeed:{min:15,max:20},bonus:{numberGetBonus:5},fireRate:60},{level:2,active:!1,timeLevel:55,collorOresOnLevel:["green","purple","red","random.30"],targets:["blue.4","black.4","orange.4"],oresSpeed:{min:15,max:18},bonus:{numberGetBonus:6},fireRate:65},{level:3,active:!1,timeLevel:55,collorOresOnLevel:["red","yellow","orange","random.35"],targets:["blue.6","black.6","green.3","orange.4"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:7},fireRate:70},{level:4,active:!1,timeLevel:65,collorOresOnLevel:["red","yellow","orange","green","purple","random.40"],targets:["blue.7","black.7","orange.5","green.5","purple.4"],oresSpeed:{min:8,max:13},bonus:{numberGetBonus:8},fireRate:75},{level:5,active:!1,timeLevel:75,collorOresOnLevel:["red","yellow","orange","random.50"],targets:["blue.8","black.7","green.8","purple.7","red.6"],oresSpeed:{min:8,max:12},bonus:{numberGetBonus:8},fireRate:80},{level:6,active:!1,timeLevel:75,collorOresOnLevel:["red","yellow","orange","blue","random.60"],targets:["blue.6","black.8","green.9","purple.10","red.8","yellow.10"],oresSpeed:{min:7,max:10},bonus:{numberGetBonus:8},fireRate:90},{level:7,active:!1,timeLevel:60,collorOresOnLevel:["red","yellow","orange","random.60"],targets:["blue.9","black.8","green.10","purple.6","red.8","yellow.4","orange.6"],oresSpeed:{min:7,max:9},bonus:{numberGetBonus:7},fireRate:85},{level:8,active:!1,timeLevel:60,collorOresOnLevel:["red","yellow","orange","random.70"],targets:["blue.11","black.12","green.11","purple.14","red.9","yellow.11","orange.8"],oresSpeed:{min:7,max:10},bonus:{numberGetBonus:8},fireRate:85},{level:9,active:!1,timeLevel:75,collorOresOnLevel:["red","yellow","orange","green","purple","random.70"],targets:["blue.13","black.13","green.12","purple.12","red.11","yellow.10","orange.11"],oresSpeed:{min:7,max:15},bonus:{numberGetBonus:10},fireRate:80},{level:10,active:!1,timeLevel:90,collorOresOnLevel:["red","yellow","orange","random.125"],targets:["blue.19","black.18","green.19","purple.18","red.17","yellow.16","orange.18"],oresSpeed:{min:7,max:15},bonus:{numberGetBonus:12},fireRate:80},{level:11,active:!1,timeLevel:110,collorOresOnLevel:["red","yellow","orange","random.130"],targets:["blue.20","black.20","green.20","purple.20","red.20","yellow.20","orange.20"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:14},fireRate:90},{level:12,active:!1,timeLevel:110,collorOresOnLevel:["red","yellow","orange","random.125"],targets:["blue.24","black.21","green.23","purple.22","red.20","yellow.23","orange.24"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:13},fireRate:95},{level:13,active:!1,timeLevel:90,collorOresOnLevel:["red","yellow","orange","random.125"],targets:["blue.19","black.18","green.19","purple.18","red.17","yellow.16","orange.18"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:12},fireRate:80},{level:14,active:!1,timeLevel:90,collorOresOnLevel:["red","yellow","orange","random.125"],targets:["blue.19","black.18","green.19","purple.18","red.17","yellow.16","orange.18"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:12},fireRate:80},{level:15,active:!1,timeLevel:90,collorOresOnLevel:["red","yellow","orange","random.50"],targets:["blue.190","black.180","green.190","purple.180","red.170","yellow.160","orange.180"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:12},fireRate:80},{level:16,active:!1,timeLevel:90,collorOresOnLevel:["red","yellow","orange","random.125"],targets:["blue.19","black.18","green.19","purple.18","red.17","yellow.16","orange.18"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:12},fireRate:80},{level:17,active:!1,timeLevel:110,collorOresOnLevel:["red","yellow","orange","random.130"],targets:["blue.20","black.20","green.20","purple.20","red.20","yellow.20","orange.20"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:14},fireRate:90},{level:18,active:!1,timeLevel:100,collorOresOnLevel:["red","yellow","orange","random.125"],targets:["blue.24","black.21","green.23","purple.22","red.20","yellow.23","orange.24"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:13},fireRate:95},{level:19,active:!1,timeLevel:90,collorOresOnLevel:["red","yellow","orange","random.125"],targets:["blue.19","black.18","green.19","purple.18","red.17","yellow.16","orange.18"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:12},fireRate:80},{level:20,active:!1,timeLevel:90,collorOresOnLevel:["red","yellow","orange","random.125"],targets:["blue.19","black.18","green.19","purple.18","red.17","yellow.16","orange.18"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:12},fireRate:80},{level:21,active:!1,timeLevel:90,collorOresOnLevel:["red","yellow","orange","random.50"],targets:["blue.190","black.180","green.190","purple.180","red.170","yellow.160","orange.180"],oresSpeed:{min:10,max:15},bonus:{numberGetBonus:12},fireRate:80}]}},5880:e=>{e.exports=class{components=[{componentName:"ColisionOnScene",className:"moduleColisionOnScene"},{componentName:"Fullscreen",className:"moduleFullscreen"},{componentName:"Meny",className:"componentMeny"},{componentName:"Sky",className:"componentSky"},{componentName:"Map",className:"componentMap"},{componentName:"BonusItem",className:"componentBonusItem"},{componentName:"OreMinerals",className:"componentOreMinerals"},{componentName:"Bulets",className:"componentBulets"},{componentName:"Plane",className:"componentPlane"},{componentName:"GameUi",className:"componentGameUi"},{componentName:"Shop",className:"componentShop"},{componentName:"Players",className:"componentPlayers"},{componentName:"Popup",className:"componentPopup"},{componentName:"AudioGame",className:"moduleAudioGame"}]}},8408:e=>{"use strict";e.exports=JSON.parse('{"frames":{"plane 0.aseprite":{"frame":{"x":0,"y":0,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 1.aseprite":{"frame":{"x":150,"y":0,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 2.aseprite":{"frame":{"x":300,"y":0,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 3.aseprite":{"frame":{"x":450,"y":0,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 4.aseprite":{"frame":{"x":600,"y":0,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 5.aseprite":{"frame":{"x":0,"y":150,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 6.aseprite":{"frame":{"x":150,"y":150,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 7.aseprite":{"frame":{"x":300,"y":150,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 8.aseprite":{"frame":{"x":450,"y":150,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 9.aseprite":{"frame":{"x":600,"y":150,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 10.aseprite":{"frame":{"x":0,"y":300,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 11.aseprite":{"frame":{"x":150,"y":300,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 12.aseprite":{"frame":{"x":300,"y":300,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 13.aseprite":{"frame":{"x":450,"y":300,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 14.aseprite":{"frame":{"x":600,"y":300,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 15.aseprite":{"frame":{"x":0,"y":450,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 16.aseprite":{"frame":{"x":150,"y":450,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 17.aseprite":{"frame":{"x":300,"y":450,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 18.aseprite":{"frame":{"x":450,"y":450,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 19.aseprite":{"frame":{"x":600,"y":450,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 20.aseprite":{"frame":{"x":600,"y":450,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 21.aseprite":{"frame":{"x":0,"y":600,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 22.aseprite":{"frame":{"x":0,"y":600,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 23.aseprite":{"frame":{"x":150,"y":600,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 24.aseprite":{"frame":{"x":150,"y":600,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 25.aseprite":{"frame":{"x":300,"y":600,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 26.aseprite":{"frame":{"x":300,"y":600,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100},"plane 27.aseprite":{"frame":{"x":450,"y":600,"w":150,"h":150},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":150},"sourceSize":{"w":150,"h":150},"duration":100}},"meta":{"app":"https://www.aseprite.org/","version":"1.3.5-x64","image":"plane.png","format":"RGBA8888","size":{"w":750,"h":750},"scale":"1","frameTags":[{"name":"fly","from":0,"to":16,"direction":"forward","color":"#000000ff"},{"name":"blow","from":17,"to":27,"direction":"forward","color":"#000000ff"}],"layers":[{"name":"engin","opacity":255,"blendMode":"normal"},{"name":"body","opacity":255,"blendMode":"normal"},{"name":"bow","opacity":255,"blendMode":"normal"},{"name":"rt","opacity":255,"blendMode":"normal"},{"name":"lt","opacity":255,"blendMode":"normal"},{"name":"d","opacity":255,"blendMode":"normal"}],"slices":[]}}')},3832:e=>{"use strict";e.exports=JSON.parse('{"frames":{"shieldPlane 0.aseprite":{"frame":{"x":0,"y":0,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 1.aseprite":{"frame":{"x":105,"y":0,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 2.aseprite":{"frame":{"x":210,"y":0,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 3.aseprite":{"frame":{"x":315,"y":0,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 4.aseprite":{"frame":{"x":0,"y":105,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 5.aseprite":{"frame":{"x":105,"y":105,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 6.aseprite":{"frame":{"x":210,"y":105,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 7.aseprite":{"frame":{"x":315,"y":105,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 8.aseprite":{"frame":{"x":0,"y":210,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 9.aseprite":{"frame":{"x":105,"y":210,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 10.aseprite":{"frame":{"x":210,"y":210,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 11.aseprite":{"frame":{"x":315,"y":210,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 12.aseprite":{"frame":{"x":0,"y":315,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150},"shieldPlane 13.aseprite":{"frame":{"x":105,"y":315,"w":105,"h":105},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":105,"h":105},"sourceSize":{"w":105,"h":105},"duration":150}},"meta":{"app":"https://www.aseprite.org/","version":"1.3.6-x64","image":"shieldPlane.png","format":"RGBA8888","size":{"w":420,"h":420},"scale":"1","frameTags":[{"name":"shieldUp","from":0,"to":13,"direction":"forward","color":"#000000ff"}],"layers":[{"name":"Layer","opacity":255,"blendMode":"normal"}],"slices":[]}}')},3608:e=>{"use strict";e.exports=JSON.parse('{"frames":{"explosionV2 0.png":{"frame":{"x":0,"y":0,"w":60,"h":63},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":60,"h":63},"sourceSize":{"w":60,"h":63},"duration":100},"explosionV2 1.png":{"frame":{"x":60,"y":0,"w":60,"h":63},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":60,"h":63},"sourceSize":{"w":60,"h":63},"duration":100},"explosionV2 2.png":{"frame":{"x":120,"y":0,"w":60,"h":63},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":60,"h":63},"sourceSize":{"w":60,"h":63},"duration":100},"explosionV2 3.png":{"frame":{"x":180,"y":0,"w":60,"h":63},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":60,"h":63},"sourceSize":{"w":60,"h":63},"duration":100},"explosionV2 4.png":{"frame":{"x":240,"y":0,"w":60,"h":63},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":60,"h":63},"sourceSize":{"w":60,"h":63},"duration":100},"explosionV2 5.png":{"frame":{"x":300,"y":0,"w":60,"h":63},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":60,"h":63},"sourceSize":{"w":60,"h":63},"duration":100},"explosionV2 6.png":{"frame":{"x":360,"y":0,"w":60,"h":63},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":60,"h":63},"sourceSize":{"w":60,"h":63},"duration":100},"explosionV2 7.png":{"frame":{"x":420,"y":0,"w":60,"h":63},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":60,"h":63},"sourceSize":{"w":60,"h":63},"duration":100}},"meta":{"app":"https://www.aseprite.org/","version":"1.3.6-x64","image":"explosionSmale.png","format":"RGBA8888","size":{"w":480,"h":63},"scale":"1","frameTags":[{"name":"explosion","from":0,"to":7,"direction":"forward","color":"#000000ff"}],"layers":[{"name":"Layer","opacity":255,"blendMode":"normal"},{"name":"Layer 1","opacity":255,"blendMode":"normal"},{"name":"Layer 2","opacity":255,"blendMode":"normal"},{"name":"Layer 3","opacity":255,"blendMode":"normal"}],"slices":[]}}')}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,s),i.exports}s(6e3),s(3720),CoreXam.runGame()})();